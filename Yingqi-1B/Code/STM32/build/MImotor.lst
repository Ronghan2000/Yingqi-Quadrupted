ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"MImotor.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "moudels/motor/MImotor/MImotor.c"
  20              		.section	.text.MIMotorLostCallback,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	MIMotorLostCallback:
  27              	.LVL0:
  28              	.LFB139:
   1:moudels/motor/MImotor/MImotor.c **** #include "MImotor.h"
   2:moudels/motor/MImotor/MImotor.c **** #include "general_def.h"
   3:moudels/motor/MImotor/MImotor.c **** #include "bsp_dwt.h"
   4:moudels/motor/MImotor/MImotor.c **** #include "bsp_log.h"
   5:moudels/motor/MImotor/MImotor.c **** #include "string.h"
   6:moudels/motor/MImotor/MImotor.c **** 
   7:moudels/motor/MImotor/MImotor.c **** static uint8_t idx=0 ; 
   8:moudels/motor/MImotor/MImotor.c **** static MIMotorInstance *mi_motor_instance[MI_MOTOR_CNT] = {NULL}; 
   9:moudels/motor/MImotor/MImotor.c **** uint8_t MI_MASTERID = 0; //master id ÂèëÈÄÅÊåá‰ª§Êó∂EXTIDÁöÑbit8:15,ÂèçÈ¶àÁöÑbit0:7
  10:moudels/motor/MImotor/MImotor.c **** /**
  11:moudels/motor/MImotor/MImotor.c ****   * @brief          Â∞èÁ±≥ÁîµÊú∫ÂèçÈ¶àÂ∏ßËß£Á†ÅÔºàÈÄö‰ø°Á±ªÂûã2Ôºâ
  12:moudels/motor/MImotor/MImotor.c ****   * @param[in]      Rx_can_info Êé•ÂèóÂà∞ÁöÑÁîµÊú∫Êï∞ÊçÆÁªìÊûÑ‰Ωì
  13:moudels/motor/MImotor/MImotor.c ****   * @param[in]      rx_data[8] CANÁ∫øÊé•Êî∂Âà∞ÁöÑÊï∞ÊçÆ
  14:moudels/motor/MImotor/MImotor.c ****   * @note           Â∞ÜÊé•Êî∂Âà∞ÁöÑCANÁ∫øÊï∞ÊçÆËß£Á†ÅÂà∞ÁîµÊú∫Êï∞ÊçÆÁªìÊûÑ‰Ωì‰∏≠
  15:moudels/motor/MImotor/MImotor.c ****   * @retval         none
  16:moudels/motor/MImotor/MImotor.c ****   */
  17:moudels/motor/MImotor/MImotor.c **** void MI_motor_RxDecode(RxCAN_info_type_2_s* RxCAN_info,uint8_t rx_data[8])
  18:moudels/motor/MImotor/MImotor.c **** {
  19:moudels/motor/MImotor/MImotor.c ****     uint16_t decode_temp_mi;//Â∞èÁ±≥ÁîµÊú∫ÂèçÈ¶àÊï∞ÊçÆËß£Á†ÅÁºìÂÜ≤
  20:moudels/motor/MImotor/MImotor.c ****     decode_temp_mi = (rx_data[0] << 8 | rx_data[1]);
  21:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->angle = ((float)decode_temp_mi-32767.5)/32767.5*4*3.1415926f;//rad  
  22:moudels/motor/MImotor/MImotor.c **** 
  23:moudels/motor/MImotor/MImotor.c ****     decode_temp_mi = (rx_data[2] << 8 | rx_data[3]);
  24:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->speed = ((float)decode_temp_mi-32767.5)/32767.5*30.0f;//Âçï‰Ωçrad/s
  25:moudels/motor/MImotor/MImotor.c **** 
  26:moudels/motor/MImotor/MImotor.c ****     decode_temp_mi = (rx_data[4] << 8 | rx_data[5]);
  27:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->torque = ((float)decode_temp_mi-32767.5)/32767.5*12.0f;//Nm
  28:moudels/motor/MImotor/MImotor.c **** 
  29:moudels/motor/MImotor/MImotor.c ****     decode_temp_mi = (rx_data[6] << 8 | rx_data[7]);
  30:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->temperature = (float)decode_temp_mi/10.0f;//ÊëÑÊ∞èÂ∫¶
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 2


  31:moudels/motor/MImotor/MImotor.c ****  }
  32:moudels/motor/MImotor/MImotor.c **** static void DecodeMIMotor(CANInstance *_instance)
  33:moudels/motor/MImotor/MImotor.c **** {
  34:moudels/motor/MImotor/MImotor.c ****     uint8_t *rxbuff=_instance->rx_buff;
  35:moudels/motor/MImotor/MImotor.c ****     MIMotorInstance *motor = (MIMotorInstance *)_instance->id;
  36:moudels/motor/MImotor/MImotor.c ****     MI_Motor_Measure_s *measure = &motor->measure; // measureË¶ÅÂ§öÊ¨°‰ΩøÁî®,‰øùÂ≠òÊåáÈíàÂáèÂ∞èËÆøÂ
  37:moudels/motor/MImotor/MImotor.c ****     RxCAN_info_s  RxCAN_info;//ÂÇ®Â≠òÊé•ÂèóÁöÑÊ†áËØÜÁ¨¶
  38:moudels/motor/MImotor/MImotor.c ****     DaemonReload(motor->daemon);
  39:moudels/motor/MImotor/MImotor.c ****     motor->dt = DWT_GetDeltaT(&motor->feed_cnt);
  40:moudels/motor/MImotor/MImotor.c ****     memcpy(&RxCAN_info,&_instance->rxconf.ExtId,4);//Â∞ÜÊâ©Â±ïÊ†áËØÜÁ¨¶ÁöÑÂÜÖÂÆπËß£Á†ÅÂà∞ÁºìÂ≠òÂå∫Ô
  41:moudels/motor/MImotor/MImotor.c ****     if(RxCAN_info.communication_type == 0){//ÈÄö‰ø°Á±ªÂûã0ÁöÑÂèçÈ¶àÂ∏ßËß£Á†Å
  42:moudels/motor/MImotor/MImotor.c ****         RxCAN_info_type_0_s RxCAN_info_type_0;
  43:moudels/motor/MImotor/MImotor.c ****         memcpy(&RxCAN_info_type_0,&_instance->rxconf.ExtId,4);//Â∞ÜÊâ©Â±ïÊ†áËØÜÁ¨¶ÁöÑÂÜÖÂÆπËß£Á†ÅÊà
  44:moudels/motor/MImotor/MImotor.c ****         // memcpy(&RxCAN_info_type_0.MCU_id,&_instance->rxconf.ExtId,8);//Ëé∑ÂèñMCUÊ†áËØÜÁ¨¶
  45:moudels/motor/MImotor/MImotor.c ****         measure->motor_id=RxCAN_info_type_0.motor_id;
  46:moudels/motor/MImotor/MImotor.c ****     }else if(RxCAN_info.communication_type == 2){//ÈÄö‰ø°Á±ªÂûã2ÁöÑÂèçÈ¶àÂ∏ßËß£Á†Å
  47:moudels/motor/MImotor/MImotor.c ****         RxCAN_info_type_2_s RxCAN_info_type_2;
  48:moudels/motor/MImotor/MImotor.c ****         memcpy(&RxCAN_info_type_2,&_instance->rxconf.ExtId,4);//Â∞ÜÊâ©Â±ïÊ†áËØÜÁ¨¶ÁöÑÂÜÖÂÆπËß£Á†ÅÊà
  49:moudels/motor/MImotor/MImotor.c ****         MI_motor_RxDecode(&RxCAN_info_type_2,rxbuff);//ÈÄö‰ø°Á±ªÂûã2ÁöÑÊï∞ÊçÆËß£Á†Å
  50:moudels/motor/MImotor/MImotor.c ****         measure->angle_single_round=RxCAN_info_type_2.angle;
  51:moudels/motor/MImotor/MImotor.c ****         measure->real_current=RxCAN_info_type_2.torque;
  52:moudels/motor/MImotor/MImotor.c ****         measure->speed_aps=RxCAN_info_type_2.speed;
  53:moudels/motor/MImotor/MImotor.c ****         measure->temperature=RxCAN_info_type_2.temperature;
  54:moudels/motor/MImotor/MImotor.c ****     }else if(RxCAN_info.communication_type == 17){//ÈÄö‰ø°Á±ªÂûã17ÁöÑÂèçÈ¶àÂ∏ßËß£Á†Å
  55:moudels/motor/MImotor/MImotor.c ****         RxCAN_info_type_17_s RxCAN_info_type_17;
  56:moudels/motor/MImotor/MImotor.c ****         memcpy(&RxCAN_info_type_17,&_instance->rxconf.ExtId,4);//Â∞ÜÊâ©Â±ïÊ†áËØÜÁ¨¶ÁöÑÂÜÖÂÆπËß£Á†ÅÊ
  57:moudels/motor/MImotor/MImotor.c ****         memcpy(&RxCAN_info_type_17.index,&_instance->rx_buff[0],2);//Ëé∑ÂèñÊü•ÊâæÁöÑÂèÇÊï∞Á¥¢ÂºïÁ†Å
  58:moudels/motor/MImotor/MImotor.c ****         memcpy(&RxCAN_info_type_17.param,&_instance->rx_buff[0],4);//Ëé∑ÂèñÊü•ÊâæÁöÑÂèÇÊï∞‰ø°ÊÅØ
  59:moudels/motor/MImotor/MImotor.c ****         measure->motor_id=RxCAN_info_type_17.motor_id;
  60:moudels/motor/MImotor/MImotor.c ****         measure->index=RxCAN_info_type_17.index;
  61:moudels/motor/MImotor/MImotor.c ****         measure->param=RxCAN_info_type_17.param;
  62:moudels/motor/MImotor/MImotor.c ****     }
  63:moudels/motor/MImotor/MImotor.c **** 
  64:moudels/motor/MImotor/MImotor.c **** 
  65:moudels/motor/MImotor/MImotor.c **** }
  66:moudels/motor/MImotor/MImotor.c **** 
  67:moudels/motor/MImotor/MImotor.c **** static void MIMotorLostCallback(void *motor_ptr)
  68:moudels/motor/MImotor/MImotor.c **** {
  29              		.loc 1 68 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  69:moudels/motor/MImotor/MImotor.c ****     MIMotorInstance *motor = (MIMotorInstance *)motor_ptr;
  34              		.loc 1 69 5 view .LVU1
  70:moudels/motor/MImotor/MImotor.c ****     uint16_t can_bus = motor->motor_can_instance->can_handle == &hcan1 ? 1 : 2;
  35              		.loc 1 70 5 view .LVU2
  71:moudels/motor/MImotor/MImotor.c ****     LOGWARNING("[mi_motor] Motor lost, can bus [%d] , id [%d]", can_bus, motor->motor_can_instance-
  36              		.loc 1 71 107 view .LVU3
  72:moudels/motor/MImotor/MImotor.c **** }
  37              		.loc 1 72 1 is_stmt 0 view .LVU4
  38 0000 7047     		bx	lr
  39              		.cfi_endproc
  40              	.LFE139:
  42              		.section	.text.MI_motor_SetMechPositionToZero,"ax",%progbits
  43              		.align	1
  44              		.syntax unified
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 3


  45              		.thumb
  46              		.thumb_func
  48              	MI_motor_SetMechPositionToZero:
  49              	.LVL1:
  50              	.LFB152:
  73:moudels/motor/MImotor/MImotor.c **** MIMotorInstance *MIMotorInit(Motor_Init_Config_s *config)
  74:moudels/motor/MImotor/MImotor.c **** {
  75:moudels/motor/MImotor/MImotor.c ****     MIMotorInstance *instance = (MIMotorInstance *)malloc(sizeof(MIMotorInstance));
  76:moudels/motor/MImotor/MImotor.c ****     memset(instance, 0, sizeof(MIMotorInstance));
  77:moudels/motor/MImotor/MImotor.c ****     instance->motor_type = config->motor_type;
  78:moudels/motor/MImotor/MImotor.c ****     instance->motor_settings = config->controller_setting_init_config;
  79:moudels/motor/MImotor/MImotor.c ****     PIDInit(&instance->motor_controller.current_PID, &config->controller_param_init_config.current_
  80:moudels/motor/MImotor/MImotor.c ****     PIDInit(&instance->motor_controller.speed_PID, &config->controller_param_init_config.speed_PID)
  81:moudels/motor/MImotor/MImotor.c ****     PIDInit(&instance->motor_controller.angle_PID, &config->controller_param_init_config.angle_PID)
  82:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.rx_id=config->can_init_config.tx_id;
  83:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.can_module_callback=DecodeMIMotor;
  84:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.id=instance;   
  85:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.EXT_ID.fields.motor_id=config->can_init_config.tx_id;
  86:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.EXT_ID.fields.data=0;
  87:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.EXT_ID.fields.mode=3;
  88:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.EXT_ID.fields.res=0;
  89:moudels/motor/MImotor/MImotor.c ****     instance->motor_can_instance = CANRegister(&config->can_init_config);//Ê≥®ÂÜåÂ∞èÁ±≥ÁîµÊú∫Âà∞can
  90:moudels/motor/MImotor/MImotor.c ****     // Ê≥®ÂÜåÂÆàÊä§Á∫øÁ®ã
  91:moudels/motor/MImotor/MImotor.c ****     Daemon_Init_Config_s daemon_config = {
  92:moudels/motor/MImotor/MImotor.c ****         .callback = MIMotorLostCallback,
  93:moudels/motor/MImotor/MImotor.c ****         .owner_id = instance,
  94:moudels/motor/MImotor/MImotor.c ****         .reload_count = 2, // 20msÊú™Êî∂Âà∞Êï∞ÊçÆÂàô‰∏¢Â§±
  95:moudels/motor/MImotor/MImotor.c ****     };
  96:moudels/motor/MImotor/MImotor.c ****     instance->daemon = DaemonRegister(&daemon_config);
  97:moudels/motor/MImotor/MImotor.c ****     instance->tongdianflag=0;
  98:moudels/motor/MImotor/MImotor.c ****     MIMotorEnable(instance);
  99:moudels/motor/MImotor/MImotor.c ****     mi_motor_instance[idx++] = instance;
 100:moudels/motor/MImotor/MImotor.c ****     return instance;
 101:moudels/motor/MImotor/MImotor.c **** }
 102:moudels/motor/MImotor/MImotor.c **** 
 103:moudels/motor/MImotor/MImotor.c **** void MIMotorControl()
 104:moudels/motor/MImotor/MImotor.c **** {
 105:moudels/motor/MImotor/MImotor.c ****     MIMotorInstance *motor;
 106:moudels/motor/MImotor/MImotor.c ****     Motor_Control_Setting_s *motor_setting;// ÁîµÊú∫ÊéßÂà∂ÂèÇÊï∞
 107:moudels/motor/MImotor/MImotor.c ****     // Motor_Controller_s *motor_controller;   // ÁîµÊú∫ÊéßÂà∂Âô®
 108:moudels/motor/MImotor/MImotor.c ****     // MI_Motor_Measure_s *measure;           // ÁîµÊú∫ÊµãÈáèÂÄº
 109:moudels/motor/MImotor/MImotor.c ****     static float ref;
 110:moudels/motor/MImotor/MImotor.c ****     for(size_t i=0;i<idx;i++)
 111:moudels/motor/MImotor/MImotor.c ****     {
 112:moudels/motor/MImotor/MImotor.c ****         motor = mi_motor_instance[i];
 113:moudels/motor/MImotor/MImotor.c ****         motor_setting = &motor->motor_settings;
 114:moudels/motor/MImotor/MImotor.c ****         // motor_controller = &motor->motor_controller;
 115:moudels/motor/MImotor/MImotor.c ****         // measure = &motor->measure;
 116:moudels/motor/MImotor/MImotor.c ****         ref = motor->motor_controller.pid_ref; // ‰øùÂ≠òËÆæÂÆöÂÄº,Èò≤Ê≠¢motor_controller->pid_refÂú
 117:moudels/motor/MImotor/MImotor.c ****         if(motor->tongdianflag==0){
 118:moudels/motor/MImotor/MImotor.c ****             MI_motor_setzero( motor);
 119:moudels/motor/MImotor/MImotor.c ****             osDelay(20);
 120:moudels/motor/MImotor/MImotor.c ****             motor->tongdianflag=1;
 121:moudels/motor/MImotor/MImotor.c ****         }
 122:moudels/motor/MImotor/MImotor.c ****         if(motor->motor_settings.motor_reverse_flag==0){
 123:moudels/motor/MImotor/MImotor.c ****             ref=ref*-1;
 124:moudels/motor/MImotor/MImotor.c ****         }
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 4


 125:moudels/motor/MImotor/MImotor.c ****         if(motor->stop_flag == MOTOR_STOP){
 126:moudels/motor/MImotor/MImotor.c ****               MI_motor_stop(motor);
 127:moudels/motor/MImotor/MImotor.c ****               motor_setting->ifsetflag=0;
 128:moudels/motor/MImotor/MImotor.c ****         }else if(motor->stop_flag == MOTOR_ENALBED&&motor_setting->ifsetflag==0){
 129:moudels/motor/MImotor/MImotor.c ****             if((motor_setting->close_loop_type==ANGLE_LOOP&&motor_setting->ifsetflag==0)){
 130:moudels/motor/MImotor/MImotor.c ****                     // osDelay(20);
 131:moudels/motor/MImotor/MImotor.c ****                     // if(motor->tongdianflag==1){
 132:moudels/motor/MImotor/MImotor.c ****                     
 133:moudels/motor/MImotor/MImotor.c ****                     
 134:moudels/motor/MImotor/MImotor.c ****                     
 135:moudels/motor/MImotor/MImotor.c ****                     MI_motor_LocationControl(motor);
 136:moudels/motor/MImotor/MImotor.c ****                     motor_setting->ifsetflag=1;
 137:moudels/motor/MImotor/MImotor.c ****             }else if(motor_setting->close_loop_type==SPEED_LOOP&&motor_setting->ifsetflag==0)
 138:moudels/motor/MImotor/MImotor.c ****             {
 139:moudels/motor/MImotor/MImotor.c ****                     MI_motor_SpeedControl(motor);
 140:moudels/motor/MImotor/MImotor.c ****                     motor_setting->ifsetflag=1;
 141:moudels/motor/MImotor/MImotor.c ****             }else if(motor_setting->close_loop_type==CURRENT_LOOP&&motor_setting->ifsetflag==0)
 142:moudels/motor/MImotor/MImotor.c ****            {
 143:moudels/motor/MImotor/MImotor.c ****                     MI_motor_TorqueControl(motor);
 144:moudels/motor/MImotor/MImotor.c ****                     motor_setting->ifsetflag=1;
 145:moudels/motor/MImotor/MImotor.c ****             }else if(motor_setting->close_loop_type==YUNDONG_LOOP&&motor_setting->ifsetflag==0){
 146:moudels/motor/MImotor/MImotor.c ****                     MI_motor_YunkongControl(motor);
 147:moudels/motor/MImotor/MImotor.c ****                     motor_setting->ifsetflag=1;
 148:moudels/motor/MImotor/MImotor.c ****             }
 149:moudels/motor/MImotor/MImotor.c ****          }
 150:moudels/motor/MImotor/MImotor.c ****          if(motor->stop_flag == MOTOR_ENALBED&&motor_setting->ifsetflag==1){
 151:moudels/motor/MImotor/MImotor.c ****             if((motor_setting->close_loop_type==ANGLE_LOOP)){
 152:moudels/motor/MImotor/MImotor.c ****                     MI_motor_Modeset(motor,ref,0x7016);
 153:moudels/motor/MImotor/MImotor.c ****                      osDelay(1);
 154:moudels/motor/MImotor/MImotor.c ****             }else if(motor_setting->close_loop_type==SPEED_LOOP){
 155:moudels/motor/MImotor/MImotor.c ****                     MI_motor_Modeset(motor,ref,0x700A);
 156:moudels/motor/MImotor/MImotor.c ****                      osDelay(5);
 157:moudels/motor/MImotor/MImotor.c ****             }else if(motor_setting->close_loop_type==CURRENT_LOOP){
 158:moudels/motor/MImotor/MImotor.c ****                     MI_motor_Modeset(motor,ref,0x7006);
 159:moudels/motor/MImotor/MImotor.c ****                      osDelay(5);
 160:moudels/motor/MImotor/MImotor.c ****             }else if(motor_setting->close_loop_type==YUNDONG_LOOP){
 161:moudels/motor/MImotor/MImotor.c **** 
 162:moudels/motor/MImotor/MImotor.c ****             }
 163:moudels/motor/MImotor/MImotor.c ****          }
 164:moudels/motor/MImotor/MImotor.c ****          if(motor_setting->close_loop_type==ZERO_LOC){
 165:moudels/motor/MImotor/MImotor.c ****                 MI_motor_setzero( motor);
 166:moudels/motor/MImotor/MImotor.c ****                 motor_setting->ifsetflag==0;
 167:moudels/motor/MImotor/MImotor.c ****          }
 168:moudels/motor/MImotor/MImotor.c ****     }
 169:moudels/motor/MImotor/MImotor.c ****     
 170:moudels/motor/MImotor/MImotor.c **** }
 171:moudels/motor/MImotor/MImotor.c **** void MIMotorStop(MIMotorInstance *motor)
 172:moudels/motor/MImotor/MImotor.c **** {
 173:moudels/motor/MImotor/MImotor.c ****     motor->stop_flag = MOTOR_STOP;
 174:moudels/motor/MImotor/MImotor.c **** }
 175:moudels/motor/MImotor/MImotor.c **** 
 176:moudels/motor/MImotor/MImotor.c **** void MIMotorEnable(MIMotorInstance *motor)
 177:moudels/motor/MImotor/MImotor.c **** {
 178:moudels/motor/MImotor/MImotor.c ****     motor->stop_flag = MOTOR_ENALBED;
 179:moudels/motor/MImotor/MImotor.c **** }
 180:moudels/motor/MImotor/MImotor.c **** 
 181:moudels/motor/MImotor/MImotor.c **** /* ‰øÆÊîπÁîµÊú∫ÁöÑÂÆûÈôÖÈó≠ÁéØÂØπË±° */
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 5


 182:moudels/motor/MImotor/MImotor.c **** void MIMotorOuterLoop(MIMotorInstance *motor, Closeloop_Type_e outer_loop)
 183:moudels/motor/MImotor/MImotor.c **** {
 184:moudels/motor/MImotor/MImotor.c ****     motor->motor_settings.close_loop_type = outer_loop;
 185:moudels/motor/MImotor/MImotor.c **** }
 186:moudels/motor/MImotor/MImotor.c **** 
 187:moudels/motor/MImotor/MImotor.c **** // ËÆæÁΩÆÂèÇËÄÉÂÄº
 188:moudels/motor/MImotor/MImotor.c **** void MIMotorSetRef(MIMotorInstance *motor, float ref)
 189:moudels/motor/MImotor/MImotor.c **** {
 190:moudels/motor/MImotor/MImotor.c ****     motor->motor_controller.pid_ref = ref;
 191:moudels/motor/MImotor/MImotor.c **** }
 192:moudels/motor/MImotor/MImotor.c **** 
 193:moudels/motor/MImotor/MImotor.c **** // ‰∏∫ÊâÄÊúâÁîµÊú∫ÂÆû‰æãËÆ°ÁÆó‰∏âÁéØPID,ÂèëÈÄÅÊéßÂà∂Êä•Êñá
 194:moudels/motor/MImotor/MImotor.c **** 
 195:moudels/motor/MImotor/MImotor.c **** //--------
 196:moudels/motor/MImotor/MImotor.c **** /**
 197:moudels/motor/MImotor/MImotor.c ****   * @brief          floatËΩ¨intÔºåÊï∞ÊçÆÊâìÂåÖÁî®
 198:moudels/motor/MImotor/MImotor.c ****   * @param[in]      x floatÊï∞ÂÄº
 199:moudels/motor/MImotor/MImotor.c ****   * @param[in]      x_min floatÊï∞ÂÄºÁöÑÊúÄÂ∞èÂÄº
 200:moudels/motor/MImotor/MImotor.c ****   * @param[in]      x_max floatÊï∞ÂÄºÁöÑÊúÄÂ§ßÂÄº
 201:moudels/motor/MImotor/MImotor.c ****   * @param[in]      bits  intÁöÑÊï∞ÊçÆ‰ΩçÊï∞
 202:moudels/motor/MImotor/MImotor.c ****   * @retval         none
 203:moudels/motor/MImotor/MImotor.c ****   */
 204:moudels/motor/MImotor/MImotor.c **** uint32_t FloatToUint(float x, float x_min, float x_max, int bits)
 205:moudels/motor/MImotor/MImotor.c **** {
 206:moudels/motor/MImotor/MImotor.c ****     float span = x_max - x_min;
 207:moudels/motor/MImotor/MImotor.c ****     float offset = x_min;
 208:moudels/motor/MImotor/MImotor.c ****     if(x > x_max) x=x_max;
 209:moudels/motor/MImotor/MImotor.c ****     else if(x < x_min) x=x_min;
 210:moudels/motor/MImotor/MImotor.c ****     return (uint32_t) ((x-offset)*((float)((1<<bits)-1))/span);
 211:moudels/motor/MImotor/MImotor.c **** }
 212:moudels/motor/MImotor/MImotor.c **** 
 213:moudels/motor/MImotor/MImotor.c **** /**
 214:moudels/motor/MImotor/MImotor.c ****   * @brief          ËæìÂÖ•ËåÉÂõ¥ÈôêÂà∂
 215:moudels/motor/MImotor/MImotor.c ****   * @param[in]      x ËæìÂÖ•Êï∞ÂÄº
 216:moudels/motor/MImotor/MImotor.c ****   * @param[in]      x_min ËæìÂÖ•Êï∞ÂÄºÁöÑÊúÄÂ∞èÂÄº
 217:moudels/motor/MImotor/MImotor.c ****   * @param[in]      x_max ËæìÂÖ•Êï∞ÂÄºÁöÑÊúÄÂ§ßÂÄº
 218:moudels/motor/MImotor/MImotor.c ****   * @retval         none
 219:moudels/motor/MImotor/MImotor.c ****   */
 220:moudels/motor/MImotor/MImotor.c **** float RangeRestrict(float x, float x_min, float x_max)
 221:moudels/motor/MImotor/MImotor.c **** {
 222:moudels/motor/MImotor/MImotor.c ****     float res;
 223:moudels/motor/MImotor/MImotor.c ****     if(x > x_max) res=x_max;
 224:moudels/motor/MImotor/MImotor.c ****     else if(x < x_min) res=x_min;
 225:moudels/motor/MImotor/MImotor.c ****     else res = x;
 226:moudels/motor/MImotor/MImotor.c ****     return res;
 227:moudels/motor/MImotor/MImotor.c **** }
 228:moudels/motor/MImotor/MImotor.c **** 
 229:moudels/motor/MImotor/MImotor.c **** //------------------ÈÄöËÆØÁ±ªÂûãÈ≠îÊîπÂ∞èÁ±≥ÊñáÊ°£-------------
 230:moudels/motor/MImotor/MImotor.c **** /**
 231:moudels/motor/MImotor/MImotor.c ****   * @brief          Ëé∑ÂèñËÆæÂ§áID ÔºàÈÄö‰ø°Á±ªÂûã0ÔºâÔºåÈúÄÂú®ÁîµÊú∫‰ΩøËÉΩÂâç‰ΩøÁî®
 232:moudels/motor/MImotor/MImotor.c ****   * @param[in]      hmotor ÁîµÊú∫ÁªìÊûÑ‰Ωì
 233:moudels/motor/MImotor/MImotor.c ****   * @retval         none
 234:moudels/motor/MImotor/MImotor.c ****   */
 235:moudels/motor/MImotor/MImotor.c **** static void MI_motor_GetID(MIMotorInstance  *hmotor)
 236:moudels/motor/MImotor/MImotor.c **** {   
 237:moudels/motor/MImotor/MImotor.c ****     static EXT_ID_T EXT  ;
 238:moudels/motor/MImotor/MImotor.c ****     EXT.fields.mode=0;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 6


 239:moudels/motor/MImotor/MImotor.c ****     EXT.fields.data=0;
 240:moudels/motor/MImotor/MImotor.c ****     EXT.fields.motor_id=0;
 241:moudels/motor/MImotor/MImotor.c ****     EXT.fields.res=0;
 242:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->txconf.ExtId= EXT.raw;
 243:moudels/motor/MImotor/MImotor.c ****     // hmotor->EXT_ID.mode = 0;
 244:moudels/motor/MImotor/MImotor.c ****     // hmotor->EXT_ID.data = 0;
 245:moudels/motor/MImotor/MImotor.c ****     // hmotor->EXT_ID.motor_id = 0;
 246:moudels/motor/MImotor/MImotor.c ****     // hmotor->EXT_ID.res = 0;
 247:moudels/motor/MImotor/MImotor.c ****  
 248:moudels/motor/MImotor/MImotor.c ****     for(uint8_t i=0; i<8; i++)
 249:moudels/motor/MImotor/MImotor.c ****     {
 250:moudels/motor/MImotor/MImotor.c ****         hmotor->motor_can_instance->tx_buff[i]=0;
 251:moudels/motor/MImotor/MImotor.c ****     }
 252:moudels/motor/MImotor/MImotor.c ****     CANTransmit(hmotor->motor_can_instance,1);
 253:moudels/motor/MImotor/MImotor.c ****      
 254:moudels/motor/MImotor/MImotor.c ****     
 255:moudels/motor/MImotor/MImotor.c **** }
 256:moudels/motor/MImotor/MImotor.c **** 
 257:moudels/motor/MImotor/MImotor.c **** /**
 258:moudels/motor/MImotor/MImotor.c ****   * @brief          ËøêÊéßÊ®°ÂºèÁîµÊú∫ÊéßÂà∂Êåá‰ª§ÔºàÈÄö‰ø°Á±ªÂûã1Ôºâ
 259:moudels/motor/MImotor/MImotor.c ****   * @param[in]      hmotor ÁîµÊú∫ÁªìÊûÑ‰Ωì
 260:moudels/motor/MImotor/MImotor.c ****   * @param[in]      torque ÁõÆÊ†áÂäõÁü©
 261:moudels/motor/MImotor/MImotor.c ****   * @param[in]      MechPosition 
 262:moudels/motor/MImotor/MImotor.c ****   * @param[in]      speed 
 263:moudels/motor/MImotor/MImotor.c ****   * @param[in]      kp 
 264:moudels/motor/MImotor/MImotor.c ****   * @param[in]      kd 
 265:moudels/motor/MImotor/MImotor.c ****   * @retval         none
 266:moudels/motor/MImotor/MImotor.c ****   */
 267:moudels/motor/MImotor/MImotor.c **** static void MI_motor_Control(MIMotorInstance* hmotor, float torque, float MechPosition , float spee
 268:moudels/motor/MImotor/MImotor.c **** {  
 269:moudels/motor/MImotor/MImotor.c ****     static EXT_ID_T EXT  ;
 270:moudels/motor/MImotor/MImotor.c ****     EXT.fields.mode=1;
 271:moudels/motor/MImotor/MImotor.c ****     EXT.fields.data=FloatToUint(torque,T_MIN,T_MAX,16);
 272:moudels/motor/MImotor/MImotor.c ****     EXT.fields.motor_id=hmotor->motor_can_instance->tx_id;
 273:moudels/motor/MImotor/MImotor.c ****     EXT.fields.res=0;
 274:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->txconf.ExtId=EXT.raw;
 275:moudels/motor/MImotor/MImotor.c ****     // hmotor->EXT_ID.mode = 1;
 276:moudels/motor/MImotor/MImotor.c ****     // hmotor->EXT_ID.motor_id = hmotor->motor_id;
 277:moudels/motor/MImotor/MImotor.c ****     // hmotor->EXT_ID.data = FloatToUint(torque,T_MIN,T_MAX,16);
 278:moudels/motor/MImotor/MImotor.c ****     // hmotor->EXT_ID.res = 0;
 279:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->tx_buff[0]=FloatToUint(MechPosition,P_MIN,P_MAX,16)>>8;
 280:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->tx_buff[1]=FloatToUint(MechPosition,P_MIN,P_MAX,16);
 281:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->tx_buff[2]=FloatToUint(speed,V_MIN,V_MAX,16)>>8;
 282:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->tx_buff[3]=FloatToUint(speed,V_MIN,V_MAX,16);
 283:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->tx_buff[4]=FloatToUint(kp,KP_MIN,KP_MAX,16)>>8;
 284:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->tx_buff[5]=FloatToUint(kp,KP_MIN,KP_MAX,16);
 285:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->tx_buff[6]=FloatToUint(kd,KD_MIN,KD_MAX,16)>>8;
 286:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->tx_buff[7]=FloatToUint(kd,KD_MIN,KD_MAX,16);
 287:moudels/motor/MImotor/MImotor.c ****     CANTransmit(hmotor->motor_can_instance,1);
 288:moudels/motor/MImotor/MImotor.c ****     
 289:moudels/motor/MImotor/MImotor.c **** }
 290:moudels/motor/MImotor/MImotor.c **** 
 291:moudels/motor/MImotor/MImotor.c **** /**
 292:moudels/motor/MImotor/MImotor.c ****   * @brief          Â∞èÁ±≥ÁîµÊú∫‰ΩøËÉΩÔºàÈÄö‰ø°Á±ªÂûã 3Ôºâ
 293:moudels/motor/MImotor/MImotor.c ****   * @param[in]      hmotor ÁîµÊú∫ÁªìÊûÑ‰Ωì
 294:moudels/motor/MImotor/MImotor.c ****   * @param[in]      id ÁîµÊú∫id
 295:moudels/motor/MImotor/MImotor.c ****   * @retval         none
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 7


 296:moudels/motor/MImotor/MImotor.c ****   */
 297:moudels/motor/MImotor/MImotor.c ****  static void MI_motor_Enable(MIMotorInstance* hmotor)
 298:moudels/motor/MImotor/MImotor.c **** {   
 299:moudels/motor/MImotor/MImotor.c ****     
 300:moudels/motor/MImotor/MImotor.c ****     static EXT_ID_T EXT  ;
 301:moudels/motor/MImotor/MImotor.c ****     EXT.fields.mode=3;
 302:moudels/motor/MImotor/MImotor.c ****     EXT.fields.data=MI_MASTERID;
 303:moudels/motor/MImotor/MImotor.c ****     EXT.fields.motor_id=hmotor->motor_can_instance->tx_id;
 304:moudels/motor/MImotor/MImotor.c ****     EXT.fields.res=0;
 305:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->txconf.ExtId= EXT.raw;
 306:moudels/motor/MImotor/MImotor.c ****     for(uint8_t i=0; i<8; i++)
 307:moudels/motor/MImotor/MImotor.c ****     {
 308:moudels/motor/MImotor/MImotor.c ****         hmotor->motor_can_instance->tx_buff[i]=0;
 309:moudels/motor/MImotor/MImotor.c ****     }
 310:moudels/motor/MImotor/MImotor.c ****     CANTransmit(hmotor->motor_can_instance,1);
 311:moudels/motor/MImotor/MImotor.c ****     // if(!CANTransmit(hmotor->motor_can_instance,1)){
 312:moudels/motor/MImotor/MImotor.c ****     //     while(1){
 313:moudels/motor/MImotor/MImotor.c **** 
 314:moudels/motor/MImotor/MImotor.c ****     //     }
 315:moudels/motor/MImotor/MImotor.c ****     // }
 316:moudels/motor/MImotor/MImotor.c ****      
 317:moudels/motor/MImotor/MImotor.c **** }
 318:moudels/motor/MImotor/MImotor.c **** /**
 319:moudels/motor/MImotor/MImotor.c ****   * @brief          ÁîµÊú∫ÂÅúÊ≠¢ËøêË°åÂ∏ßÔºàÈÄö‰ø°Á±ªÂûã4Ôºâ
 320:moudels/motor/MImotor/MImotor.c ****   * @param[in]      hmotor ÁîµÊú∫ÁªìÊûÑ‰Ωì
 321:moudels/motor/MImotor/MImotor.c ****   * @retval         none
 322:moudels/motor/MImotor/MImotor.c ****   */
 323:moudels/motor/MImotor/MImotor.c **** static void MI_motor_Stop(MIMotorInstance* hmotor)
 324:moudels/motor/MImotor/MImotor.c **** 
 325:moudels/motor/MImotor/MImotor.c **** {   
 326:moudels/motor/MImotor/MImotor.c ****     static EXT_ID_T EXT;
 327:moudels/motor/MImotor/MImotor.c ****     EXT.fields.mode=4;
 328:moudels/motor/MImotor/MImotor.c ****     EXT.fields.data=MI_MASTERID;
 329:moudels/motor/MImotor/MImotor.c ****     EXT.fields.motor_id=hmotor->motor_can_instance->tx_id;
 330:moudels/motor/MImotor/MImotor.c ****     EXT.fields.res=0;
 331:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->txconf.ExtId= EXT.raw;
 332:moudels/motor/MImotor/MImotor.c ****     for(uint8_t i=0; i<8; i++)
 333:moudels/motor/MImotor/MImotor.c ****     {
 334:moudels/motor/MImotor/MImotor.c ****         hmotor->motor_can_instance->tx_buff[i]=0;
 335:moudels/motor/MImotor/MImotor.c ****     }
 336:moudels/motor/MImotor/MImotor.c **** 
 337:moudels/motor/MImotor/MImotor.c ****     CANTransmit(hmotor->motor_can_instance,1);
 338:moudels/motor/MImotor/MImotor.c **** }
 339:moudels/motor/MImotor/MImotor.c **** /**
 340:moudels/motor/MImotor/MImotor.c ****   * @brief          ËÆæÁΩÆÁîµÊú∫Êú∫Ê¢∞Èõ∂‰ΩçÔºàÈÄö‰ø°Á±ªÂûã6Ôºâ‰ºöÊääÂΩìÂâçÁîµÊú∫‰ΩçÁΩÆËÆæ‰∏∫Êú∫Ê¢∞
 341:moudels/motor/MImotor/MImotor.c ****   * @param[in]      hmotor ÁîµÊú∫ÁªìÊûÑ‰Ωì
 342:moudels/motor/MImotor/MImotor.c ****   * @retval         none
 343:moudels/motor/MImotor/MImotor.c ****   */
 344:moudels/motor/MImotor/MImotor.c **** static void MI_motor_SetMechPositionToZero(MIMotorInstance* hmotor)
 345:moudels/motor/MImotor/MImotor.c **** {
  51              		.loc 1 345 1 is_stmt 1 view -0
  52              		.cfi_startproc
  53              		@ args = 0, pretend = 0, frame = 0
  54              		@ frame_needed = 0, uses_anonymous_args = 0
  55              		.loc 1 345 1 is_stmt 0 view .LVU6
  56 0000 08B5     		push	{r3, lr}
  57              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 8


  58              		.cfi_offset 3, -8
  59              		.cfi_offset 14, -4
 346:moudels/motor/MImotor/MImotor.c ****     static EXT_ID_T EXT ;
  60              		.loc 1 346 5 is_stmt 1 view .LVU7
 347:moudels/motor/MImotor/MImotor.c ****     EXT.fields.mode=6;
  61              		.loc 1 347 5 view .LVU8
  62              		.loc 1 347 20 is_stmt 0 view .LVU9
  63 0002 164B     		ldr	r3, .L6
  64 0004 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
  65 0006 0621     		movs	r1, #6
  66 0008 61F30402 		bfi	r2, r1, #0, #5
  67 000c DA70     		strb	r2, [r3, #3]
 348:moudels/motor/MImotor/MImotor.c ****     EXT.fields.data=MI_MASTERID;
  68              		.loc 1 348 5 is_stmt 1 view .LVU10
  69              		.loc 1 348 20 is_stmt 0 view .LVU11
  70 000e 144A     		ldr	r2, .L6+4
  71 0010 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
  72 0012 A3F80120 		strh	r2, [r3, #1]	@ unaligned
 349:moudels/motor/MImotor/MImotor.c ****     EXT.fields.motor_id=hmotor->motor_can_instance->tx_id;
  73              		.loc 1 349 5 is_stmt 1 view .LVU12
  74              		.loc 1 349 31 is_stmt 0 view .LVU13
  75 0016 D0F8A811 		ldr	r1, [r0, #424]
  76              		.loc 1 349 51 view .LVU14
  77 001a 91F83820 		ldrb	r2, [r1, #56]	@ zero_extendqisi2
  78              		.loc 1 349 24 view .LVU15
  79 001e 1A70     		strb	r2, [r3]
 350:moudels/motor/MImotor/MImotor.c ****     EXT.fields.res=0;
  80              		.loc 1 350 5 is_stmt 1 view .LVU16
  81              		.loc 1 350 19 is_stmt 0 view .LVU17
  82 0020 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
  83 0022 22F0E002 		bic	r2, r2, #224
  84 0026 DA70     		strb	r2, [r3, #3]
 351:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->txconf.ExtId= EXT.raw;
  85              		.loc 1 351 5 is_stmt 1 view .LVU18
  86              		.loc 1 351 50 is_stmt 0 view .LVU19
  87 0028 1B68     		ldr	r3, [r3]
  88              		.loc 1 351 45 view .LVU20
  89 002a 8B60     		str	r3, [r1, #8]	@ unaligned
 352:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->tx_buff[0]=1;
  90              		.loc 1 352 5 is_stmt 1 view .LVU21
  91              		.loc 1 352 11 is_stmt 0 view .LVU22
  92 002c D0F8A821 		ldr	r2, [r0, #424]
  93              		.loc 1 352 43 view .LVU23
  94 0030 0123     		movs	r3, #1
  95 0032 82F83D30 		strb	r3, [r2, #61]
 353:moudels/motor/MImotor/MImotor.c ****     for(uint8_t i=1; i<8; i++)
  96              		.loc 1 353 5 is_stmt 1 view .LVU24
  97              	.LBB2:
  98              		.loc 1 353 9 view .LVU25
  99              	.LVL2:
 100              		.loc 1 353 5 is_stmt 0 view .LVU26
 101 0036 07E0     		b	.L3
 102              	.LVL3:
 103              	.L4:
 354:moudels/motor/MImotor/MImotor.c ****     {
 355:moudels/motor/MImotor/MImotor.c ****         hmotor->motor_can_instance->tx_buff[i]=0;
 104              		.loc 1 355 9 is_stmt 1 view .LVU27
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 9


 105              		.loc 1 355 15 is_stmt 0 view .LVU28
 106 0038 D0F8A821 		ldr	r2, [r0, #424]
 107              		.loc 1 355 47 view .LVU29
 108 003c 1A44     		add	r2, r2, r3
 109 003e 0021     		movs	r1, #0
 110 0040 82F83D10 		strb	r1, [r2, #61]
 353:moudels/motor/MImotor/MImotor.c ****     for(uint8_t i=1; i<8; i++)
 111              		.loc 1 353 28 is_stmt 1 discriminator 3 view .LVU30
 112 0044 0133     		adds	r3, r3, #1
 113              	.LVL4:
 353:moudels/motor/MImotor/MImotor.c ****     for(uint8_t i=1; i<8; i++)
 114              		.loc 1 353 28 is_stmt 0 discriminator 3 view .LVU31
 115 0046 DBB2     		uxtb	r3, r3
 116              	.LVL5:
 117              	.L3:
 353:moudels/motor/MImotor/MImotor.c ****     for(uint8_t i=1; i<8; i++)
 118              		.loc 1 353 23 is_stmt 1 discriminator 1 view .LVU32
 119 0048 072B     		cmp	r3, #7
 120 004a F5D9     		bls	.L4
 121              	.LBE2:
 356:moudels/motor/MImotor/MImotor.c ****     }
 357:moudels/motor/MImotor/MImotor.c **** 
 358:moudels/motor/MImotor/MImotor.c ****     CANTransmit(hmotor->motor_can_instance,1);
 122              		.loc 1 358 5 view .LVU33
 123 004c B7EE000A 		vmov.f32	s0, #1.0e+0
 124 0050 D0F8A801 		ldr	r0, [r0, #424]
 125              	.LVL6:
 126              		.loc 1 358 5 is_stmt 0 view .LVU34
 127 0054 FFF7FEFF 		bl	CANTransmit
 128              	.LVL7:
 359:moudels/motor/MImotor/MImotor.c ****      
 360:moudels/motor/MImotor/MImotor.c **** }
 129              		.loc 1 360 1 view .LVU35
 130 0058 08BD     		pop	{r3, pc}
 131              	.L7:
 132 005a 00BF     		.align	2
 133              	.L6:
 134 005c 00000000 		.word	EXT.3
 135 0060 00000000 		.word	MI_MASTERID
 136              		.cfi_endproc
 137              	.LFE152:
 139              		.section	.text.MI_motor_ModeSwitch,"ax",%progbits
 140              		.align	1
 141              		.syntax unified
 142              		.thumb
 143              		.thumb_func
 145              	MI_motor_ModeSwitch:
 146              	.LVL8:
 147              	.LFB154:
 361:moudels/motor/MImotor/MImotor.c **** 
 362:moudels/motor/MImotor/MImotor.c **** /**
 363:moudels/motor/MImotor/MImotor.c ****   * @brief          Âçï‰∏™ÂèÇÊï∞ËØªÂèñÔºàÈÄö‰ø°Á±ªÂûã17Ôºâ
 364:moudels/motor/MImotor/MImotor.c ****   * @param[in]      hmotor ÁîµÊú∫ÁªìÊûÑ‰Ωì
 365:moudels/motor/MImotor/MImotor.c ****   * @param[in]      index ÂäüËÉΩÁ†Å
 366:moudels/motor/MImotor/MImotor.c ****   * @retval         none
 367:moudels/motor/MImotor/MImotor.c ****   */
 368:moudels/motor/MImotor/MImotor.c **** static void MI_motor_ReadParam(MIMotorInstance* hmotor,uint16_t index)
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 10


 369:moudels/motor/MImotor/MImotor.c **** {
 370:moudels/motor/MImotor/MImotor.c ****     static EXT_ID_T EXT ;
 371:moudels/motor/MImotor/MImotor.c ****     EXT.fields.mode=17;
 372:moudels/motor/MImotor/MImotor.c ****     EXT.fields.data=MI_MASTERID;
 373:moudels/motor/MImotor/MImotor.c ****     EXT.fields.motor_id=hmotor->motor_can_instance->tx_id;
 374:moudels/motor/MImotor/MImotor.c ****     EXT.fields.res=0;
 375:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->txconf.ExtId= EXT.raw;
 376:moudels/motor/MImotor/MImotor.c **** 
 377:moudels/motor/MImotor/MImotor.c ****     memcpy(&hmotor->motor_can_instance->tx_buff[0],&index,2);
 378:moudels/motor/MImotor/MImotor.c ****     for(uint8_t i=2; i<8; i++)
 379:moudels/motor/MImotor/MImotor.c ****     {
 380:moudels/motor/MImotor/MImotor.c ****         hmotor->motor_can_instance->tx_buff[i]=0;
 381:moudels/motor/MImotor/MImotor.c ****     }
 382:moudels/motor/MImotor/MImotor.c **** 
 383:moudels/motor/MImotor/MImotor.c ****     CANTransmit(hmotor->motor_can_instance,1);
 384:moudels/motor/MImotor/MImotor.c ****     // free(EXT);
 385:moudels/motor/MImotor/MImotor.c **** }
 386:moudels/motor/MImotor/MImotor.c **** 
 387:moudels/motor/MImotor/MImotor.c **** /**
 388:moudels/motor/MImotor/MImotor.c ****   * @brief          Â∞èÁ±≥ÁîµÊú∫ËøêË°åÊ®°ÂºèÂàáÊç¢
 389:moudels/motor/MImotor/MImotor.c ****   * @param[in]      hmotor ÁîµÊú∫ÁªìÊûÑ‰Ωì
 390:moudels/motor/MImotor/MImotor.c ****   * @param[in]      run_mode Êõ¥ÊîπÁöÑÊ®°Âºè
 391:moudels/motor/MImotor/MImotor.c ****   * @note           ÈÄö‰ø°Á±ªÂûã18 ÔºàÊéâÁîµ‰∏¢Â§±Ôºâ
 392:moudels/motor/MImotor/MImotor.c ****   * @retval         none
 393:moudels/motor/MImotor/MImotor.c ****   */
 394:moudels/motor/MImotor/MImotor.c **** static void MI_motor_ModeSwitch(MIMotorInstance* hmotor, uint8_t run_mode,uint16_t index)
 395:moudels/motor/MImotor/MImotor.c **** {
 148              		.loc 1 395 1 is_stmt 1 view -0
 149              		.cfi_startproc
 150              		@ args = 0, pretend = 0, frame = 0
 151              		@ frame_needed = 0, uses_anonymous_args = 0
 152              		.loc 1 395 1 is_stmt 0 view .LVU37
 153 0000 10B5     		push	{r4, lr}
 154              		.cfi_def_cfa_offset 8
 155              		.cfi_offset 4, -8
 156              		.cfi_offset 14, -4
 396:moudels/motor/MImotor/MImotor.c ****      
 397:moudels/motor/MImotor/MImotor.c ****     static EXT_ID_T EXT ;
 157              		.loc 1 397 5 is_stmt 1 view .LVU38
 398:moudels/motor/MImotor/MImotor.c ****     EXT.fields.mode=18;
 158              		.loc 1 398 5 view .LVU39
 159              		.loc 1 398 20 is_stmt 0 view .LVU40
 160 0002 1B4B     		ldr	r3, .L12
 161 0004 DC78     		ldrb	r4, [r3, #3]	@ zero_extendqisi2
 162 0006 4FF0120C 		mov	ip, #18
 163 000a 6CF30404 		bfi	r4, ip, #0, #5
 164 000e DC70     		strb	r4, [r3, #3]
 399:moudels/motor/MImotor/MImotor.c ****     EXT.fields.data=MI_MASTERID;
 165              		.loc 1 399 5 is_stmt 1 view .LVU41
 166              		.loc 1 399 20 is_stmt 0 view .LVU42
 167 0010 184C     		ldr	r4, .L12+4
 168 0012 2478     		ldrb	r4, [r4]	@ zero_extendqisi2
 169 0014 A3F80140 		strh	r4, [r3, #1]	@ unaligned
 400:moudels/motor/MImotor/MImotor.c ****     EXT.fields.motor_id=hmotor->motor_can_instance->tx_id;
 170              		.loc 1 400 5 is_stmt 1 view .LVU43
 171              		.loc 1 400 31 is_stmt 0 view .LVU44
 172 0018 D0F8A841 		ldr	r4, [r0, #424]
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 11


 173              		.loc 1 400 51 view .LVU45
 174 001c 94F838C0 		ldrb	ip, [r4, #56]	@ zero_extendqisi2
 175              		.loc 1 400 24 view .LVU46
 176 0020 83F800C0 		strb	ip, [r3]
 401:moudels/motor/MImotor/MImotor.c ****     EXT.fields.res=0;
 177              		.loc 1 401 5 is_stmt 1 view .LVU47
 178              		.loc 1 401 19 is_stmt 0 view .LVU48
 179 0024 93F803C0 		ldrb	ip, [r3, #3]	@ zero_extendqisi2
 180 0028 2CF0E00C 		bic	ip, ip, #224
 181 002c 83F803C0 		strb	ip, [r3, #3]
 402:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->txconf.ExtId=EXT.raw;
 182              		.loc 1 402 5 is_stmt 1 view .LVU49
 183              		.loc 1 402 49 is_stmt 0 view .LVU50
 184 0030 1B68     		ldr	r3, [r3]
 185              		.loc 1 402 45 view .LVU51
 186 0032 A360     		str	r3, [r4, #8]	@ unaligned
 403:moudels/motor/MImotor/MImotor.c **** 
 404:moudels/motor/MImotor/MImotor.c ****     
 405:moudels/motor/MImotor/MImotor.c ****     for(uint8_t i=2; i<8; i++)
 187              		.loc 1 405 5 is_stmt 1 view .LVU52
 188              	.LBB3:
 189              		.loc 1 405 9 view .LVU53
 190              	.LVL9:
 191              		.loc 1 405 17 is_stmt 0 view .LVU54
 192 0034 0223     		movs	r3, #2
 193              		.loc 1 405 5 view .LVU55
 194 0036 09E0     		b	.L9
 195              	.LVL10:
 196              	.L10:
 406:moudels/motor/MImotor/MImotor.c ****     {
 407:moudels/motor/MImotor/MImotor.c ****         hmotor->motor_can_instance->tx_buff[i]=0;
 197              		.loc 1 407 9 is_stmt 1 view .LVU56
 198              		.loc 1 407 47 is_stmt 0 view .LVU57
 199 0038 D0F8A841 		ldr	r4, [r0, #424]
 200 003c 04EB030C 		add	ip, r4, r3
 201 0040 4FF0000E 		mov	lr, #0
 202 0044 8CF83DE0 		strb	lr, [ip, #61]
 405:moudels/motor/MImotor/MImotor.c ****     {
 203              		.loc 1 405 28 is_stmt 1 discriminator 3 view .LVU58
 204 0048 0133     		adds	r3, r3, #1
 205              	.LVL11:
 405:moudels/motor/MImotor/MImotor.c ****     {
 206              		.loc 1 405 28 is_stmt 0 discriminator 3 view .LVU59
 207 004a DBB2     		uxtb	r3, r3
 208              	.LVL12:
 209              	.L9:
 405:moudels/motor/MImotor/MImotor.c ****     {
 210              		.loc 1 405 23 is_stmt 1 discriminator 1 view .LVU60
 211 004c 072B     		cmp	r3, #7
 212 004e F3D9     		bls	.L10
 213              	.LBE3:
 408:moudels/motor/MImotor/MImotor.c ****     }
 409:moudels/motor/MImotor/MImotor.c ****     memcpy(&hmotor->motor_can_instance->tx_buff[0],&index,2);
 214              		.loc 1 409 5 view .LVU61
 215              		.loc 1 409 19 is_stmt 0 view .LVU62
 216 0050 D0F8A831 		ldr	r3, [r0, #424]
 217              	.LVL13:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 12


 218              		.loc 1 409 5 view .LVU63
 219 0054 A3F83D20 		strh	r2, [r3, #61]	@ unaligned
 410:moudels/motor/MImotor/MImotor.c ****     memcpy(&hmotor->motor_can_instance->tx_buff[4],&run_mode,1);
 220              		.loc 1 410 5 is_stmt 1 view .LVU64
 221              		.loc 1 410 19 is_stmt 0 view .LVU65
 222 0058 D0F8A831 		ldr	r3, [r0, #424]
 223              		.loc 1 410 5 view .LVU66
 224 005c 83F84110 		strb	r1, [r3, #65]
 411:moudels/motor/MImotor/MImotor.c ****     CANTransmit(hmotor->motor_can_instance,1);
 225              		.loc 1 411 5 is_stmt 1 view .LVU67
 226 0060 B7EE000A 		vmov.f32	s0, #1.0e+0
 227 0064 D0F8A801 		ldr	r0, [r0, #424]
 228              	.LVL14:
 229              		.loc 1 411 5 is_stmt 0 view .LVU68
 230 0068 FFF7FEFF 		bl	CANTransmit
 231              	.LVL15:
 412:moudels/motor/MImotor/MImotor.c ****     // if(!CANTransmit(hmotor->motor_can_instance,1)){
 413:moudels/motor/MImotor/MImotor.c ****     //     while(1){
 414:moudels/motor/MImotor/MImotor.c **** 
 415:moudels/motor/MImotor/MImotor.c ****     //     }
 416:moudels/motor/MImotor/MImotor.c ****     // }
 417:moudels/motor/MImotor/MImotor.c **** }
 232              		.loc 1 417 1 view .LVU69
 233 006c 10BD     		pop	{r4, pc}
 234              	.L13:
 235 006e 00BF     		.align	2
 236              	.L12:
 237 0070 00000000 		.word	EXT.2
 238 0074 00000000 		.word	MI_MASTERID
 239              		.cfi_endproc
 240              	.LFE154:
 242              		.section	.text.MI_motor_Enable,"ax",%progbits
 243              		.align	1
 244              		.syntax unified
 245              		.thumb
 246              		.thumb_func
 248              	MI_motor_Enable:
 249              	.LVL16:
 250              	.LFB150:
 298:moudels/motor/MImotor/MImotor.c ****     
 251              		.loc 1 298 1 is_stmt 1 view -0
 252              		.cfi_startproc
 253              		@ args = 0, pretend = 0, frame = 0
 254              		@ frame_needed = 0, uses_anonymous_args = 0
 298:moudels/motor/MImotor/MImotor.c ****     
 255              		.loc 1 298 1 is_stmt 0 view .LVU71
 256 0000 08B5     		push	{r3, lr}
 257              		.cfi_def_cfa_offset 8
 258              		.cfi_offset 3, -8
 259              		.cfi_offset 14, -4
 300:moudels/motor/MImotor/MImotor.c ****     EXT.fields.mode=3;
 260              		.loc 1 300 5 is_stmt 1 view .LVU72
 301:moudels/motor/MImotor/MImotor.c ****     EXT.fields.data=MI_MASTERID;
 261              		.loc 1 301 5 view .LVU73
 301:moudels/motor/MImotor/MImotor.c ****     EXT.fields.data=MI_MASTERID;
 262              		.loc 1 301 20 is_stmt 0 view .LVU74
 263 0002 144B     		ldr	r3, .L18
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 13


 264 0004 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 265 0006 0321     		movs	r1, #3
 266 0008 61F30402 		bfi	r2, r1, #0, #5
 267 000c DA70     		strb	r2, [r3, #3]
 302:moudels/motor/MImotor/MImotor.c ****     EXT.fields.motor_id=hmotor->motor_can_instance->tx_id;
 268              		.loc 1 302 5 is_stmt 1 view .LVU75
 302:moudels/motor/MImotor/MImotor.c ****     EXT.fields.motor_id=hmotor->motor_can_instance->tx_id;
 269              		.loc 1 302 20 is_stmt 0 view .LVU76
 270 000e 124A     		ldr	r2, .L18+4
 271 0010 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 272 0012 A3F80120 		strh	r2, [r3, #1]	@ unaligned
 303:moudels/motor/MImotor/MImotor.c ****     EXT.fields.res=0;
 273              		.loc 1 303 5 is_stmt 1 view .LVU77
 303:moudels/motor/MImotor/MImotor.c ****     EXT.fields.res=0;
 274              		.loc 1 303 31 is_stmt 0 view .LVU78
 275 0016 D0F8A811 		ldr	r1, [r0, #424]
 303:moudels/motor/MImotor/MImotor.c ****     EXT.fields.res=0;
 276              		.loc 1 303 51 view .LVU79
 277 001a 91F83820 		ldrb	r2, [r1, #56]	@ zero_extendqisi2
 303:moudels/motor/MImotor/MImotor.c ****     EXT.fields.res=0;
 278              		.loc 1 303 24 view .LVU80
 279 001e 1A70     		strb	r2, [r3]
 304:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->txconf.ExtId= EXT.raw;
 280              		.loc 1 304 5 is_stmt 1 view .LVU81
 304:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->txconf.ExtId= EXT.raw;
 281              		.loc 1 304 19 is_stmt 0 view .LVU82
 282 0020 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 283 0022 22F0E002 		bic	r2, r2, #224
 284 0026 DA70     		strb	r2, [r3, #3]
 305:moudels/motor/MImotor/MImotor.c ****     for(uint8_t i=0; i<8; i++)
 285              		.loc 1 305 5 is_stmt 1 view .LVU83
 305:moudels/motor/MImotor/MImotor.c ****     for(uint8_t i=0; i<8; i++)
 286              		.loc 1 305 50 is_stmt 0 view .LVU84
 287 0028 1B68     		ldr	r3, [r3]
 305:moudels/motor/MImotor/MImotor.c ****     for(uint8_t i=0; i<8; i++)
 288              		.loc 1 305 45 view .LVU85
 289 002a 8B60     		str	r3, [r1, #8]	@ unaligned
 306:moudels/motor/MImotor/MImotor.c ****     {
 290              		.loc 1 306 5 is_stmt 1 view .LVU86
 291              	.LBB4:
 306:moudels/motor/MImotor/MImotor.c ****     {
 292              		.loc 1 306 9 view .LVU87
 293              	.LVL17:
 306:moudels/motor/MImotor/MImotor.c ****     {
 294              		.loc 1 306 17 is_stmt 0 view .LVU88
 295 002c 0023     		movs	r3, #0
 306:moudels/motor/MImotor/MImotor.c ****     {
 296              		.loc 1 306 5 view .LVU89
 297 002e 07E0     		b	.L15
 298              	.LVL18:
 299              	.L16:
 308:moudels/motor/MImotor/MImotor.c ****     }
 300              		.loc 1 308 9 is_stmt 1 view .LVU90
 308:moudels/motor/MImotor/MImotor.c ****     }
 301              		.loc 1 308 15 is_stmt 0 view .LVU91
 302 0030 D0F8A821 		ldr	r2, [r0, #424]
 308:moudels/motor/MImotor/MImotor.c ****     }
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 14


 303              		.loc 1 308 47 view .LVU92
 304 0034 1A44     		add	r2, r2, r3
 305 0036 0021     		movs	r1, #0
 306 0038 82F83D10 		strb	r1, [r2, #61]
 306:moudels/motor/MImotor/MImotor.c ****     {
 307              		.loc 1 306 28 is_stmt 1 discriminator 3 view .LVU93
 308 003c 0133     		adds	r3, r3, #1
 309              	.LVL19:
 306:moudels/motor/MImotor/MImotor.c ****     {
 310              		.loc 1 306 28 is_stmt 0 discriminator 3 view .LVU94
 311 003e DBB2     		uxtb	r3, r3
 312              	.LVL20:
 313              	.L15:
 306:moudels/motor/MImotor/MImotor.c ****     {
 314              		.loc 1 306 23 is_stmt 1 discriminator 1 view .LVU95
 315 0040 072B     		cmp	r3, #7
 316 0042 F5D9     		bls	.L16
 317              	.LBE4:
 310:moudels/motor/MImotor/MImotor.c ****     // if(!CANTransmit(hmotor->motor_can_instance,1)){
 318              		.loc 1 310 5 view .LVU96
 319 0044 B7EE000A 		vmov.f32	s0, #1.0e+0
 320 0048 D0F8A801 		ldr	r0, [r0, #424]
 321              	.LVL21:
 310:moudels/motor/MImotor/MImotor.c ****     // if(!CANTransmit(hmotor->motor_can_instance,1)){
 322              		.loc 1 310 5 is_stmt 0 view .LVU97
 323 004c FFF7FEFF 		bl	CANTransmit
 324              	.LVL22:
 317:moudels/motor/MImotor/MImotor.c **** /**
 325              		.loc 1 317 1 view .LVU98
 326 0050 08BD     		pop	{r3, pc}
 327              	.L19:
 328 0052 00BF     		.align	2
 329              	.L18:
 330 0054 00000000 		.word	EXT.1
 331 0058 00000000 		.word	MI_MASTERID
 332              		.cfi_endproc
 333              	.LFE150:
 335              		.section	.text.MI_motor_Stop,"ax",%progbits
 336              		.align	1
 337              		.syntax unified
 338              		.thumb
 339              		.thumb_func
 341              	MI_motor_Stop:
 342              	.LVL23:
 343              	.LFB151:
 325:moudels/motor/MImotor/MImotor.c ****     static EXT_ID_T EXT;
 344              		.loc 1 325 1 is_stmt 1 view -0
 345              		.cfi_startproc
 346              		@ args = 0, pretend = 0, frame = 0
 347              		@ frame_needed = 0, uses_anonymous_args = 0
 325:moudels/motor/MImotor/MImotor.c ****     static EXT_ID_T EXT;
 348              		.loc 1 325 1 is_stmt 0 view .LVU100
 349 0000 08B5     		push	{r3, lr}
 350              		.cfi_def_cfa_offset 8
 351              		.cfi_offset 3, -8
 352              		.cfi_offset 14, -4
 326:moudels/motor/MImotor/MImotor.c ****     EXT.fields.mode=4;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 15


 353              		.loc 1 326 5 is_stmt 1 view .LVU101
 327:moudels/motor/MImotor/MImotor.c ****     EXT.fields.data=MI_MASTERID;
 354              		.loc 1 327 5 view .LVU102
 327:moudels/motor/MImotor/MImotor.c ****     EXT.fields.data=MI_MASTERID;
 355              		.loc 1 327 20 is_stmt 0 view .LVU103
 356 0002 144B     		ldr	r3, .L24
 357 0004 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 358 0006 0421     		movs	r1, #4
 359 0008 61F30402 		bfi	r2, r1, #0, #5
 360 000c DA70     		strb	r2, [r3, #3]
 328:moudels/motor/MImotor/MImotor.c ****     EXT.fields.motor_id=hmotor->motor_can_instance->tx_id;
 361              		.loc 1 328 5 is_stmt 1 view .LVU104
 328:moudels/motor/MImotor/MImotor.c ****     EXT.fields.motor_id=hmotor->motor_can_instance->tx_id;
 362              		.loc 1 328 20 is_stmt 0 view .LVU105
 363 000e 124A     		ldr	r2, .L24+4
 364 0010 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 365 0012 A3F80120 		strh	r2, [r3, #1]	@ unaligned
 329:moudels/motor/MImotor/MImotor.c ****     EXT.fields.res=0;
 366              		.loc 1 329 5 is_stmt 1 view .LVU106
 329:moudels/motor/MImotor/MImotor.c ****     EXT.fields.res=0;
 367              		.loc 1 329 31 is_stmt 0 view .LVU107
 368 0016 D0F8A811 		ldr	r1, [r0, #424]
 329:moudels/motor/MImotor/MImotor.c ****     EXT.fields.res=0;
 369              		.loc 1 329 51 view .LVU108
 370 001a 91F83820 		ldrb	r2, [r1, #56]	@ zero_extendqisi2
 329:moudels/motor/MImotor/MImotor.c ****     EXT.fields.res=0;
 371              		.loc 1 329 24 view .LVU109
 372 001e 1A70     		strb	r2, [r3]
 330:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->txconf.ExtId= EXT.raw;
 373              		.loc 1 330 5 is_stmt 1 view .LVU110
 330:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->txconf.ExtId= EXT.raw;
 374              		.loc 1 330 19 is_stmt 0 view .LVU111
 375 0020 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 376 0022 22F0E002 		bic	r2, r2, #224
 377 0026 DA70     		strb	r2, [r3, #3]
 331:moudels/motor/MImotor/MImotor.c ****     for(uint8_t i=0; i<8; i++)
 378              		.loc 1 331 5 is_stmt 1 view .LVU112
 331:moudels/motor/MImotor/MImotor.c ****     for(uint8_t i=0; i<8; i++)
 379              		.loc 1 331 50 is_stmt 0 view .LVU113
 380 0028 1B68     		ldr	r3, [r3]
 331:moudels/motor/MImotor/MImotor.c ****     for(uint8_t i=0; i<8; i++)
 381              		.loc 1 331 45 view .LVU114
 382 002a 8B60     		str	r3, [r1, #8]	@ unaligned
 332:moudels/motor/MImotor/MImotor.c ****     {
 383              		.loc 1 332 5 is_stmt 1 view .LVU115
 384              	.LBB5:
 332:moudels/motor/MImotor/MImotor.c ****     {
 385              		.loc 1 332 9 view .LVU116
 386              	.LVL24:
 332:moudels/motor/MImotor/MImotor.c ****     {
 387              		.loc 1 332 17 is_stmt 0 view .LVU117
 388 002c 0023     		movs	r3, #0
 332:moudels/motor/MImotor/MImotor.c ****     {
 389              		.loc 1 332 5 view .LVU118
 390 002e 07E0     		b	.L21
 391              	.LVL25:
 392              	.L22:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 16


 334:moudels/motor/MImotor/MImotor.c ****     }
 393              		.loc 1 334 9 is_stmt 1 view .LVU119
 334:moudels/motor/MImotor/MImotor.c ****     }
 394              		.loc 1 334 15 is_stmt 0 view .LVU120
 395 0030 D0F8A821 		ldr	r2, [r0, #424]
 334:moudels/motor/MImotor/MImotor.c ****     }
 396              		.loc 1 334 47 view .LVU121
 397 0034 1A44     		add	r2, r2, r3
 398 0036 0021     		movs	r1, #0
 399 0038 82F83D10 		strb	r1, [r2, #61]
 332:moudels/motor/MImotor/MImotor.c ****     {
 400              		.loc 1 332 28 is_stmt 1 discriminator 3 view .LVU122
 401 003c 0133     		adds	r3, r3, #1
 402              	.LVL26:
 332:moudels/motor/MImotor/MImotor.c ****     {
 403              		.loc 1 332 28 is_stmt 0 discriminator 3 view .LVU123
 404 003e DBB2     		uxtb	r3, r3
 405              	.LVL27:
 406              	.L21:
 332:moudels/motor/MImotor/MImotor.c ****     {
 407              		.loc 1 332 23 is_stmt 1 discriminator 1 view .LVU124
 408 0040 072B     		cmp	r3, #7
 409 0042 F5D9     		bls	.L22
 410              	.LBE5:
 337:moudels/motor/MImotor/MImotor.c **** }
 411              		.loc 1 337 5 view .LVU125
 412 0044 B7EE000A 		vmov.f32	s0, #1.0e+0
 413 0048 D0F8A801 		ldr	r0, [r0, #424]
 414              	.LVL28:
 337:moudels/motor/MImotor/MImotor.c **** }
 415              		.loc 1 337 5 is_stmt 0 view .LVU126
 416 004c FFF7FEFF 		bl	CANTransmit
 417              	.LVL29:
 338:moudels/motor/MImotor/MImotor.c **** /**
 418              		.loc 1 338 1 view .LVU127
 419 0050 08BD     		pop	{r3, pc}
 420              	.L25:
 421 0052 00BF     		.align	2
 422              	.L24:
 423 0054 00000000 		.word	EXT.0
 424 0058 00000000 		.word	MI_MASTERID
 425              		.cfi_endproc
 426              	.LFE151:
 428              		.global	__aeabi_f2d
 429              		.global	__aeabi_dsub
 430              		.global	__aeabi_ddiv
 431              		.global	__aeabi_dmul
 432              		.global	__aeabi_d2f
 433              		.section	.text.MI_motor_RxDecode,"ax",%progbits
 434              		.align	1
 435              		.global	MI_motor_RxDecode
 436              		.syntax unified
 437              		.thumb
 438              		.thumb_func
 440              	MI_motor_RxDecode:
 441              	.LVL30:
 442              	.LFB137:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 17


  18:moudels/motor/MImotor/MImotor.c ****     uint16_t decode_temp_mi;//Â∞èÁ±≥ÁîµÊú∫ÂèçÈ¶àÊï∞ÊçÆËß£Á†ÅÁºìÂÜ≤
 443              		.loc 1 18 1 is_stmt 1 view -0
 444              		.cfi_startproc
 445              		@ args = 0, pretend = 0, frame = 0
 446              		@ frame_needed = 0, uses_anonymous_args = 0
  18:moudels/motor/MImotor/MImotor.c ****     uint16_t decode_temp_mi;//Â∞èÁ±≥ÁîµÊú∫ÂèçÈ¶àÊï∞ÊçÆËß£Á†ÅÁºìÂÜ≤
 447              		.loc 1 18 1 is_stmt 0 view .LVU129
 448 0000 38B5     		push	{r3, r4, r5, lr}
 449              		.cfi_def_cfa_offset 16
 450              		.cfi_offset 3, -16
 451              		.cfi_offset 4, -12
 452              		.cfi_offset 5, -8
 453              		.cfi_offset 14, -4
 454 0002 0546     		mov	r5, r0
 455 0004 0C46     		mov	r4, r1
  19:moudels/motor/MImotor/MImotor.c ****     decode_temp_mi = (rx_data[0] << 8 | rx_data[1]);
 456              		.loc 1 19 5 is_stmt 1 view .LVU130
  20:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->angle = ((float)decode_temp_mi-32767.5)/32767.5*4*3.1415926f;//rad  
 457              		.loc 1 20 5 view .LVU131
  20:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->angle = ((float)decode_temp_mi-32767.5)/32767.5*4*3.1415926f;//rad  
 458              		.loc 1 20 30 is_stmt 0 view .LVU132
 459 0006 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
  20:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->angle = ((float)decode_temp_mi-32767.5)/32767.5*4*3.1415926f;//rad  
 460              		.loc 1 20 48 view .LVU133
 461 0008 4878     		ldrb	r0, [r1, #1]	@ zero_extendqisi2
 462              	.LVL31:
  20:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->angle = ((float)decode_temp_mi-32767.5)/32767.5*4*3.1415926f;//rad  
 463              		.loc 1 20 20 view .LVU134
 464 000a 40EA0320 		orr	r0, r0, r3, lsl #8
 465              	.LVL32:
  21:moudels/motor/MImotor/MImotor.c **** 
 466              		.loc 1 21 5 is_stmt 1 view .LVU135
  21:moudels/motor/MImotor/MImotor.c **** 
 467              		.loc 1 21 26 is_stmt 0 view .LVU136
 468 000e 07EE900A 		vmov	s15, r0	@ int
 469 0012 F8EE677A 		vcvt.f32.u32	s15, s15
 470 0016 17EE900A 		vmov	r0, s15
 471              	.LVL33:
  21:moudels/motor/MImotor/MImotor.c **** 
 472              		.loc 1 21 26 view .LVU137
 473 001a FFF7FEFF 		bl	__aeabi_f2d
 474              	.LVL34:
  21:moudels/motor/MImotor/MImotor.c **** 
 475              		.loc 1 21 47 view .LVU138
 476 001e 0022     		movs	r2, #0
 477 0020 2F4B     		ldr	r3, .L28+8
 478 0022 FFF7FEFF 		bl	__aeabi_dsub
 479              	.LVL35:
  21:moudels/motor/MImotor/MImotor.c **** 
 480              		.loc 1 21 56 view .LVU139
 481 0026 0022     		movs	r2, #0
 482 0028 2D4B     		ldr	r3, .L28+8
 483 002a FFF7FEFF 		bl	__aeabi_ddiv
 484              	.LVL36:
  21:moudels/motor/MImotor/MImotor.c **** 
 485              		.loc 1 21 64 view .LVU140
 486 002e 0022     		movs	r2, #0
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 18


 487 0030 2C4B     		ldr	r3, .L28+12
 488 0032 FFF7FEFF 		bl	__aeabi_dmul
 489              	.LVL37:
  21:moudels/motor/MImotor/MImotor.c **** 
 490              		.loc 1 21 66 view .LVU141
 491 0036 28A3     		adr	r3, .L28
 492 0038 D3E90023 		ldrd	r2, [r3]
 493 003c FFF7FEFF 		bl	__aeabi_dmul
 494              	.LVL38:
 495 0040 FFF7FEFF 		bl	__aeabi_d2f
 496              	.LVL39:
  21:moudels/motor/MImotor/MImotor.c **** 
 497              		.loc 1 21 23 view .LVU142
 498 0044 6860     		str	r0, [r5, #4]	@ unaligned
  23:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->speed = ((float)decode_temp_mi-32767.5)/32767.5*30.0f;//Âçï‰Ωçrad/s
 499              		.loc 1 23 5 is_stmt 1 view .LVU143
  23:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->speed = ((float)decode_temp_mi-32767.5)/32767.5*30.0f;//Âçï‰Ωçrad/s
 500              		.loc 1 23 30 is_stmt 0 view .LVU144
 501 0046 A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
  23:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->speed = ((float)decode_temp_mi-32767.5)/32767.5*30.0f;//Âçï‰Ωçrad/s
 502              		.loc 1 23 48 view .LVU145
 503 0048 E078     		ldrb	r0, [r4, #3]	@ zero_extendqisi2
  23:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->speed = ((float)decode_temp_mi-32767.5)/32767.5*30.0f;//Âçï‰Ωçrad/s
 504              		.loc 1 23 20 view .LVU146
 505 004a 40EA0320 		orr	r0, r0, r3, lsl #8
 506              	.LVL40:
  24:moudels/motor/MImotor/MImotor.c **** 
 507              		.loc 1 24 5 is_stmt 1 view .LVU147
  24:moudels/motor/MImotor/MImotor.c **** 
 508              		.loc 1 24 26 is_stmt 0 view .LVU148
 509 004e 07EE900A 		vmov	s15, r0	@ int
 510 0052 F8EE677A 		vcvt.f32.u32	s15, s15
 511 0056 17EE900A 		vmov	r0, s15
 512              	.LVL41:
  24:moudels/motor/MImotor/MImotor.c **** 
 513              		.loc 1 24 26 view .LVU149
 514 005a FFF7FEFF 		bl	__aeabi_f2d
 515              	.LVL42:
  24:moudels/motor/MImotor/MImotor.c **** 
 516              		.loc 1 24 47 view .LVU150
 517 005e 0022     		movs	r2, #0
 518 0060 1F4B     		ldr	r3, .L28+8
 519 0062 FFF7FEFF 		bl	__aeabi_dsub
 520              	.LVL43:
  24:moudels/motor/MImotor/MImotor.c **** 
 521              		.loc 1 24 56 view .LVU151
 522 0066 0022     		movs	r2, #0
 523 0068 1D4B     		ldr	r3, .L28+8
 524 006a FFF7FEFF 		bl	__aeabi_ddiv
 525              	.LVL44:
  24:moudels/motor/MImotor/MImotor.c **** 
 526              		.loc 1 24 64 view .LVU152
 527 006e 0022     		movs	r2, #0
 528 0070 1D4B     		ldr	r3, .L28+16
 529 0072 FFF7FEFF 		bl	__aeabi_dmul
 530              	.LVL45:
 531 0076 FFF7FEFF 		bl	__aeabi_d2f
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 19


 532              	.LVL46:
  24:moudels/motor/MImotor/MImotor.c **** 
 533              		.loc 1 24 23 view .LVU153
 534 007a A860     		str	r0, [r5, #8]	@ unaligned
  26:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->torque = ((float)decode_temp_mi-32767.5)/32767.5*12.0f;//Nm
 535              		.loc 1 26 5 is_stmt 1 view .LVU154
  26:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->torque = ((float)decode_temp_mi-32767.5)/32767.5*12.0f;//Nm
 536              		.loc 1 26 30 is_stmt 0 view .LVU155
 537 007c 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
  26:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->torque = ((float)decode_temp_mi-32767.5)/32767.5*12.0f;//Nm
 538              		.loc 1 26 48 view .LVU156
 539 007e 6079     		ldrb	r0, [r4, #5]	@ zero_extendqisi2
  26:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->torque = ((float)decode_temp_mi-32767.5)/32767.5*12.0f;//Nm
 540              		.loc 1 26 20 view .LVU157
 541 0080 40EA0320 		orr	r0, r0, r3, lsl #8
 542              	.LVL47:
  27:moudels/motor/MImotor/MImotor.c **** 
 543              		.loc 1 27 5 is_stmt 1 view .LVU158
  27:moudels/motor/MImotor/MImotor.c **** 
 544              		.loc 1 27 27 is_stmt 0 view .LVU159
 545 0084 07EE900A 		vmov	s15, r0	@ int
 546 0088 F8EE677A 		vcvt.f32.u32	s15, s15
 547 008c 17EE900A 		vmov	r0, s15
 548              	.LVL48:
  27:moudels/motor/MImotor/MImotor.c **** 
 549              		.loc 1 27 27 view .LVU160
 550 0090 FFF7FEFF 		bl	__aeabi_f2d
 551              	.LVL49:
  27:moudels/motor/MImotor/MImotor.c **** 
 552              		.loc 1 27 48 view .LVU161
 553 0094 0022     		movs	r2, #0
 554 0096 124B     		ldr	r3, .L28+8
 555 0098 FFF7FEFF 		bl	__aeabi_dsub
 556              	.LVL50:
  27:moudels/motor/MImotor/MImotor.c **** 
 557              		.loc 1 27 57 view .LVU162
 558 009c 0022     		movs	r2, #0
 559 009e 104B     		ldr	r3, .L28+8
 560 00a0 FFF7FEFF 		bl	__aeabi_ddiv
 561              	.LVL51:
  27:moudels/motor/MImotor/MImotor.c **** 
 562              		.loc 1 27 65 view .LVU163
 563 00a4 0022     		movs	r2, #0
 564 00a6 114B     		ldr	r3, .L28+20
 565 00a8 FFF7FEFF 		bl	__aeabi_dmul
 566              	.LVL52:
 567 00ac FFF7FEFF 		bl	__aeabi_d2f
 568              	.LVL53:
  27:moudels/motor/MImotor/MImotor.c **** 
 569              		.loc 1 27 24 view .LVU164
 570 00b0 E860     		str	r0, [r5, #12]	@ unaligned
  29:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->temperature = (float)decode_temp_mi/10.0f;//ÊëÑÊ∞èÂ∫¶
 571              		.loc 1 29 5 is_stmt 1 view .LVU165
  29:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->temperature = (float)decode_temp_mi/10.0f;//ÊëÑÊ∞èÂ∫¶
 572              		.loc 1 29 30 is_stmt 0 view .LVU166
 573 00b2 A279     		ldrb	r2, [r4, #6]	@ zero_extendqisi2
  29:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->temperature = (float)decode_temp_mi/10.0f;//ÊëÑÊ∞èÂ∫¶
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 20


 574              		.loc 1 29 48 view .LVU167
 575 00b4 E379     		ldrb	r3, [r4, #7]	@ zero_extendqisi2
  29:moudels/motor/MImotor/MImotor.c ****     RxCAN_info->temperature = (float)decode_temp_mi/10.0f;//ÊëÑÊ∞èÂ∫¶
 576              		.loc 1 29 20 view .LVU168
 577 00b6 43EA0223 		orr	r3, r3, r2, lsl #8
 578              	.LVL54:
  30:moudels/motor/MImotor/MImotor.c ****  }
 579              		.loc 1 30 5 is_stmt 1 view .LVU169
  30:moudels/motor/MImotor/MImotor.c ****  }
 580              		.loc 1 30 31 is_stmt 0 view .LVU170
 581 00ba 07EE903A 		vmov	s15, r3	@ int
 582 00be F8EE677A 		vcvt.f32.u32	s15, s15
  30:moudels/motor/MImotor/MImotor.c ****  }
 583              		.loc 1 30 29 view .LVU171
 584 00c2 B2EE047A 		vmov.f32	s14, #1.0e+1
 585 00c6 C7EE877A 		vdiv.f32	s15, s15, s14
 586 00ca 17EE903A 		vmov	r3, s15
 587              	.LVL55:
  30:moudels/motor/MImotor/MImotor.c ****  }
 588              		.loc 1 30 29 view .LVU172
 589 00ce 2B61     		str	r3, [r5, #16]	@ unaligned
 590              	.LVL56:
  31:moudels/motor/MImotor/MImotor.c **** static void DecodeMIMotor(CANInstance *_instance)
 591              		.loc 1 31 2 view .LVU173
 592 00d0 38BD     		pop	{r3, r4, r5, pc}
 593              	.LVL57:
 594              	.L29:
  31:moudels/motor/MImotor/MImotor.c **** static void DecodeMIMotor(CANInstance *_instance)
 595              		.loc 1 31 2 view .LVU174
 596 00d2 00BFAFF3 		.align	3
 596      0080
 597              	.L28:
 598 00d8 00000040 		.word	1073741824
 599 00dc FB210940 		.word	1074340347
 600 00e0 E0FFDF40 		.word	1088421856
 601 00e4 00001040 		.word	1074790400
 602 00e8 00003E40 		.word	1077805056
 603 00ec 00002840 		.word	1076363264
 604              		.cfi_endproc
 605              	.LFE137:
 607              		.section	.text.DecodeMIMotor,"ax",%progbits
 608              		.align	1
 609              		.syntax unified
 610              		.thumb
 611              		.thumb_func
 613              	DecodeMIMotor:
 614              	.LVL58:
 615              	.LFB138:
  33:moudels/motor/MImotor/MImotor.c ****     uint8_t *rxbuff=_instance->rx_buff;
 616              		.loc 1 33 1 is_stmt 1 view -0
 617              		.cfi_startproc
 618              		@ args = 0, pretend = 0, frame = 24
 619              		@ frame_needed = 0, uses_anonymous_args = 0
  33:moudels/motor/MImotor/MImotor.c ****     uint8_t *rxbuff=_instance->rx_buff;
 620              		.loc 1 33 1 is_stmt 0 view .LVU176
 621 0000 70B5     		push	{r4, r5, r6, lr}
 622              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 21


 623              		.cfi_offset 4, -16
 624              		.cfi_offset 5, -12
 625              		.cfi_offset 6, -8
 626              		.cfi_offset 14, -4
 627 0002 86B0     		sub	sp, sp, #24
 628              		.cfi_def_cfa_offset 40
 629 0004 0446     		mov	r4, r0
  34:moudels/motor/MImotor/MImotor.c ****     MIMotorInstance *motor = (MIMotorInstance *)_instance->id;
 630              		.loc 1 34 5 is_stmt 1 view .LVU177
  34:moudels/motor/MImotor/MImotor.c ****     MIMotorInstance *motor = (MIMotorInstance *)_instance->id;
 631              		.loc 1 34 14 is_stmt 0 view .LVU178
 632 0006 00F14506 		add	r6, r0, #69
 633              	.LVL59:
  35:moudels/motor/MImotor/MImotor.c ****     MI_Motor_Measure_s *measure = &motor->measure; // measureË¶ÅÂ§öÊ¨°‰ΩøÁî®,‰øùÂ≠òÊåáÈíàÂáèÂ∞èËÆøÂ
 634              		.loc 1 35 5 is_stmt 1 view .LVU179
  35:moudels/motor/MImotor/MImotor.c ****     MI_Motor_Measure_s *measure = &motor->measure; // measureË¶ÅÂ§öÊ¨°‰ΩøÁî®,‰øùÂ≠òÊåáÈíàÂáèÂ∞èËÆøÂ
 635              		.loc 1 35 22 is_stmt 0 view .LVU180
 636 000a D0F85350 		ldr	r5, [r0, #83]	@ unaligned
 637              	.LVL60:
  36:moudels/motor/MImotor/MImotor.c ****     RxCAN_info_s  RxCAN_info;//ÂÇ®Â≠òÊé•ÂèóÁöÑÊ†áËØÜÁ¨¶
 638              		.loc 1 36 5 is_stmt 1 view .LVU181
  37:moudels/motor/MImotor/MImotor.c ****     DaemonReload(motor->daemon);
 639              		.loc 1 37 5 view .LVU182
  38:moudels/motor/MImotor/MImotor.c ****     motor->dt = DWT_GetDeltaT(&motor->feed_cnt);
 640              		.loc 1 38 5 view .LVU183
 641 000e D5F8B001 		ldr	r0, [r5, #432]
 642              	.LVL61:
  38:moudels/motor/MImotor/MImotor.c ****     motor->dt = DWT_GetDeltaT(&motor->feed_cnt);
 643              		.loc 1 38 5 is_stmt 0 view .LVU184
 644 0012 FFF7FEFF 		bl	DaemonReload
 645              	.LVL62:
  39:moudels/motor/MImotor/MImotor.c ****     memcpy(&RxCAN_info,&_instance->rxconf.ExtId,4);//Â∞ÜÊâ©Â±ïÊ†áËØÜÁ¨¶ÁöÑÂÜÖÂÆπËß£Á†ÅÂà∞ÁºìÂ≠òÂå∫Ô
 646              		.loc 1 39 5 is_stmt 1 view .LVU185
  39:moudels/motor/MImotor/MImotor.c ****     memcpy(&RxCAN_info,&_instance->rxconf.ExtId,4);//Â∞ÜÊâ©Â±ïÊ†áËØÜÁ¨¶ÁöÑÂÜÖÂÆπËß£Á†ÅÂà∞ÁºìÂ≠òÂå∫Ô
 647              		.loc 1 39 17 is_stmt 0 view .LVU186
 648 0016 05F5DA70 		add	r0, r5, #436
 649 001a FFF7FEFF 		bl	DWT_GetDeltaT
 650              	.LVL63:
  39:moudels/motor/MImotor/MImotor.c ****     memcpy(&RxCAN_info,&_instance->rxconf.ExtId,4);//Â∞ÜÊâ©Â±ïÊ†áËØÜÁ¨¶ÁöÑÂÜÖÂÆπËß£Á†ÅÂà∞ÁºìÂ≠òÂå∫Ô
 651              		.loc 1 39 15 discriminator 1 view .LVU187
 652 001e 85ED6F0A 		vstr.32	s0, [r5, #444]
  40:moudels/motor/MImotor/MImotor.c ****     if(RxCAN_info.communication_type == 0){//ÈÄö‰ø°Á±ªÂûã0ÁöÑÂèçÈ¶àÂ∏ßËß£Á†Å
 653              		.loc 1 40 5 is_stmt 1 view .LVU188
 654 0022 236A     		ldr	r3, [r4, #32]	@ unaligned
 655 0024 0593     		str	r3, [sp, #20]
  41:moudels/motor/MImotor/MImotor.c ****         RxCAN_info_type_0_s RxCAN_info_type_0;
 656              		.loc 1 41 5 view .LVU189
  41:moudels/motor/MImotor/MImotor.c ****         RxCAN_info_type_0_s RxCAN_info_type_0;
 657              		.loc 1 41 38 is_stmt 0 view .LVU190
 658 0026 C3F30462 		ubfx	r2, r3, #24, #5
  41:moudels/motor/MImotor/MImotor.c ****         RxCAN_info_type_0_s RxCAN_info_type_0;
 659              		.loc 1 41 7 view .LVU191
 660 002a 13F0F85F 		tst	r3, #520093696
 661 002e 0AD1     		bne	.L31
 662              	.LBB6:
  42:moudels/motor/MImotor/MImotor.c ****         memcpy(&RxCAN_info_type_0,&_instance->rxconf.ExtId,4);//Â∞ÜÊâ©Â±ïÊ†áËØÜÁ¨¶ÁöÑÂÜÖÂÆπËß£Á†ÅÊà
 663              		.loc 1 42 9 is_stmt 1 view .LVU192
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 22


  43:moudels/motor/MImotor/MImotor.c ****         // memcpy(&RxCAN_info_type_0.MCU_id,&_instance->rxconf.ExtId,8);//Ëé∑ÂèñMCUÊ†áËØÜÁ¨¶
 664              		.loc 1 43 9 view .LVU193
 665 0030 0093     		str	r3, [sp]
  45:moudels/motor/MImotor/MImotor.c ****     }else if(RxCAN_info.communication_type == 2){//ÈÄö‰ø°Á±ªÂûã2ÁöÑÂèçÈ¶àÂ∏ßËß£Á†Å
 666              		.loc 1 45 9 view .LVU194
  45:moudels/motor/MImotor/MImotor.c ****     }else if(RxCAN_info.communication_type == 2){//ÈÄö‰ø°Á±ªÂûã2ÁöÑÂèçÈ¶àÂ∏ßËß£Á†Å
 667              		.loc 1 45 26 is_stmt 0 view .LVU195
 668 0032 C3F30F23 		ubfx	r3, r3, #8, #16
 669 0036 07EE903A 		vmov	s15, r3	@ int
 670 003a F8EE677A 		vcvt.f32.u32	s15, s15
 671 003e C5ED047A 		vstr.32	s15, [r5, #16]
 672              	.L30:
 673              	.LBE6:
  65:moudels/motor/MImotor/MImotor.c **** 
 674              		.loc 1 65 1 view .LVU196
 675 0042 06B0     		add	sp, sp, #24
 676              		.cfi_remember_state
 677              		.cfi_def_cfa_offset 16
 678              		@ sp needed
 679 0044 70BD     		pop	{r4, r5, r6, pc}
 680              	.LVL64:
 681              	.L31:
 682              		.cfi_restore_state
  46:moudels/motor/MImotor/MImotor.c ****         RxCAN_info_type_2_s RxCAN_info_type_2;
 683              		.loc 1 46 11 is_stmt 1 view .LVU197
  46:moudels/motor/MImotor/MImotor.c ****         RxCAN_info_type_2_s RxCAN_info_type_2;
 684              		.loc 1 46 13 is_stmt 0 view .LVU198
 685 0046 022A     		cmp	r2, #2
 686 0048 19D0     		beq	.L35
  54:moudels/motor/MImotor/MImotor.c ****         RxCAN_info_type_17_s RxCAN_info_type_17;
 687              		.loc 1 54 11 is_stmt 1 view .LVU199
  54:moudels/motor/MImotor/MImotor.c ****         RxCAN_info_type_17_s RxCAN_info_type_17;
 688              		.loc 1 54 13 is_stmt 0 view .LVU200
 689 004a 112A     		cmp	r2, #17
 690 004c F9D1     		bne	.L30
 691              	.LBB7:
  55:moudels/motor/MImotor/MImotor.c ****         memcpy(&RxCAN_info_type_17,&_instance->rxconf.ExtId,4);//Â∞ÜÊâ©Â±ïÊ†áËØÜÁ¨¶ÁöÑÂÜÖÂÆπËß£Á†ÅÊ
 692              		.loc 1 55 9 is_stmt 1 view .LVU201
  56:moudels/motor/MImotor/MImotor.c ****         memcpy(&RxCAN_info_type_17.index,&_instance->rx_buff[0],2);//Ëé∑ÂèñÊü•ÊâæÁöÑÂèÇÊï∞Á¥¢ÂºïÁ†Å
 693              		.loc 1 56 9 view .LVU202
 694 004e 0093     		str	r3, [sp]
  57:moudels/motor/MImotor/MImotor.c ****         memcpy(&RxCAN_info_type_17.param,&_instance->rx_buff[0],4);//Ëé∑ÂèñÊü•ÊâæÁöÑÂèÇÊï∞‰ø°ÊÅØ
 695              		.loc 1 57 9 view .LVU203
 696 0050 B4F84510 		ldrh	r1, [r4, #69]	@ unaligned
 697 0054 ADF80410 		strh	r1, [sp, #4]	@ movhi
  58:moudels/motor/MImotor/MImotor.c ****         measure->motor_id=RxCAN_info_type_17.motor_id;
 698              		.loc 1 58 9 view .LVU204
 699 0058 D4F84520 		ldr	r2, [r4, #69]	@ unaligned
 700 005c CDF80620 		str	r2, [sp, #6]	@ unaligned
  59:moudels/motor/MImotor/MImotor.c ****         measure->index=RxCAN_info_type_17.index;
 701              		.loc 1 59 9 view .LVU205
  59:moudels/motor/MImotor/MImotor.c ****         measure->index=RxCAN_info_type_17.index;
 702              		.loc 1 59 26 is_stmt 0 view .LVU206
 703 0060 DBB2     		uxtb	r3, r3
 704 0062 07EE903A 		vmov	s15, r3	@ int
 705 0066 F8EE677A 		vcvt.f32.u32	s15, s15
 706 006a C5ED047A 		vstr.32	s15, [r5, #16]
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 23


  60:moudels/motor/MImotor/MImotor.c ****         measure->param=RxCAN_info_type_17.param;
 707              		.loc 1 60 9 is_stmt 1 view .LVU207
  60:moudels/motor/MImotor/MImotor.c ****         measure->param=RxCAN_info_type_17.param;
 708              		.loc 1 60 23 is_stmt 0 view .LVU208
 709 006e 07EE901A 		vmov	s15, r1	@ int
 710 0072 F8EE677A 		vcvt.f32.u32	s15, s15
 711 0076 C5ED057A 		vstr.32	s15, [r5, #20]
  61:moudels/motor/MImotor/MImotor.c ****     }
 712              		.loc 1 61 9 is_stmt 1 view .LVU209
  61:moudels/motor/MImotor/MImotor.c ****     }
 713              		.loc 1 61 23 is_stmt 0 view .LVU210
 714 007a AA61     		str	r2, [r5, #24]	@ float
 715              	.LBE7:
  65:moudels/motor/MImotor/MImotor.c **** 
 716              		.loc 1 65 1 view .LVU211
 717 007c E1E7     		b	.L30
 718              	.L35:
 719              	.LBB8:
  47:moudels/motor/MImotor/MImotor.c ****         memcpy(&RxCAN_info_type_2,&_instance->rxconf.ExtId,4);//Â∞ÜÊâ©Â±ïÊ†áËØÜÁ¨¶ÁöÑÂÜÖÂÆπËß£Á†ÅÊà
 720              		.loc 1 47 9 is_stmt 1 view .LVU212
  48:moudels/motor/MImotor/MImotor.c ****         MI_motor_RxDecode(&RxCAN_info_type_2,rxbuff);//ÈÄö‰ø°Á±ªÂûã2ÁöÑÊï∞ÊçÆËß£Á†Å
 721              		.loc 1 48 9 view .LVU213
 722 007e 0093     		str	r3, [sp]
  49:moudels/motor/MImotor/MImotor.c ****         measure->angle_single_round=RxCAN_info_type_2.angle;
 723              		.loc 1 49 9 view .LVU214
 724 0080 3146     		mov	r1, r6
 725 0082 6846     		mov	r0, sp
 726 0084 FFF7FEFF 		bl	MI_motor_RxDecode
 727              	.LVL65:
  50:moudels/motor/MImotor/MImotor.c ****         measure->real_current=RxCAN_info_type_2.torque;
 728              		.loc 1 50 9 view .LVU215
  50:moudels/motor/MImotor/MImotor.c ****         measure->real_current=RxCAN_info_type_2.torque;
 729              		.loc 1 50 54 is_stmt 0 view .LVU216
 730 0088 019B     		ldr	r3, [sp, #4]	@ float
  50:moudels/motor/MImotor/MImotor.c ****         measure->real_current=RxCAN_info_type_2.torque;
 731              		.loc 1 50 36 view .LVU217
 732 008a 2B60     		str	r3, [r5]	@ float
  51:moudels/motor/MImotor/MImotor.c ****         measure->speed_aps=RxCAN_info_type_2.speed;
 733              		.loc 1 51 9 is_stmt 1 view .LVU218
  51:moudels/motor/MImotor/MImotor.c ****         measure->speed_aps=RxCAN_info_type_2.speed;
 734              		.loc 1 51 48 is_stmt 0 view .LVU219
 735 008c 039B     		ldr	r3, [sp, #12]	@ float
  51:moudels/motor/MImotor/MImotor.c ****         measure->speed_aps=RxCAN_info_type_2.speed;
 736              		.loc 1 51 30 view .LVU220
 737 008e AB60     		str	r3, [r5, #8]	@ float
  52:moudels/motor/MImotor/MImotor.c ****         measure->temperature=RxCAN_info_type_2.temperature;
 738              		.loc 1 52 9 is_stmt 1 view .LVU221
  52:moudels/motor/MImotor/MImotor.c ****         measure->temperature=RxCAN_info_type_2.temperature;
 739              		.loc 1 52 45 is_stmt 0 view .LVU222
 740 0090 029B     		ldr	r3, [sp, #8]	@ float
  52:moudels/motor/MImotor/MImotor.c ****         measure->temperature=RxCAN_info_type_2.temperature;
 741              		.loc 1 52 27 view .LVU223
 742 0092 6B60     		str	r3, [r5, #4]	@ float
  53:moudels/motor/MImotor/MImotor.c ****     }else if(RxCAN_info.communication_type == 17){//ÈÄö‰ø°Á±ªÂûã17ÁöÑÂèçÈ¶àÂ∏ßËß£Á†Å
 743              		.loc 1 53 9 is_stmt 1 view .LVU224
  53:moudels/motor/MImotor/MImotor.c ****     }else if(RxCAN_info.communication_type == 17){//ÈÄö‰ø°Á±ªÂûã17ÁöÑÂèçÈ¶àÂ∏ßËß£Á†Å
 744              		.loc 1 53 47 is_stmt 0 view .LVU225
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 24


 745 0094 049B     		ldr	r3, [sp, #16]	@ float
  53:moudels/motor/MImotor/MImotor.c ****     }else if(RxCAN_info.communication_type == 17){//ÈÄö‰ø°Á±ªÂûã17ÁöÑÂèçÈ¶àÂ∏ßËß£Á†Å
 746              		.loc 1 53 29 view .LVU226
 747 0096 EB60     		str	r3, [r5, #12]	@ float
 748              	.LBE8:
 749 0098 D3E7     		b	.L30
 750              		.cfi_endproc
 751              	.LFE138:
 753              		.section	.text.MIMotorStop,"ax",%progbits
 754              		.align	1
 755              		.global	MIMotorStop
 756              		.syntax unified
 757              		.thumb
 758              		.thumb_func
 760              	MIMotorStop:
 761              	.LVL66:
 762              	.LFB142:
 172:moudels/motor/MImotor/MImotor.c ****     motor->stop_flag = MOTOR_STOP;
 763              		.loc 1 172 1 is_stmt 1 view -0
 764              		.cfi_startproc
 765              		@ args = 0, pretend = 0, frame = 0
 766              		@ frame_needed = 0, uses_anonymous_args = 0
 767              		@ link register save eliminated.
 173:moudels/motor/MImotor/MImotor.c **** }
 768              		.loc 1 173 5 view .LVU228
 173:moudels/motor/MImotor/MImotor.c **** }
 769              		.loc 1 173 22 is_stmt 0 view .LVU229
 770 0000 0023     		movs	r3, #0
 771 0002 80F8AD31 		strb	r3, [r0, #429]
 174:moudels/motor/MImotor/MImotor.c **** 
 772              		.loc 1 174 1 view .LVU230
 773 0006 7047     		bx	lr
 774              		.cfi_endproc
 775              	.LFE142:
 777              		.section	.text.MIMotorEnable,"ax",%progbits
 778              		.align	1
 779              		.global	MIMotorEnable
 780              		.syntax unified
 781              		.thumb
 782              		.thumb_func
 784              	MIMotorEnable:
 785              	.LVL67:
 786              	.LFB143:
 177:moudels/motor/MImotor/MImotor.c ****     motor->stop_flag = MOTOR_ENALBED;
 787              		.loc 1 177 1 is_stmt 1 view -0
 788              		.cfi_startproc
 789              		@ args = 0, pretend = 0, frame = 0
 790              		@ frame_needed = 0, uses_anonymous_args = 0
 791              		@ link register save eliminated.
 178:moudels/motor/MImotor/MImotor.c **** }
 792              		.loc 1 178 5 view .LVU232
 178:moudels/motor/MImotor/MImotor.c **** }
 793              		.loc 1 178 22 is_stmt 0 view .LVU233
 794 0000 0123     		movs	r3, #1
 795 0002 80F8AD31 		strb	r3, [r0, #429]
 179:moudels/motor/MImotor/MImotor.c **** 
 796              		.loc 1 179 1 view .LVU234
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 25


 797 0006 7047     		bx	lr
 798              		.cfi_endproc
 799              	.LFE143:
 801              		.section	.text.MIMotorInit,"ax",%progbits
 802              		.align	1
 803              		.global	MIMotorInit
 804              		.syntax unified
 805              		.thumb
 806              		.thumb_func
 808              	MIMotorInit:
 809              	.LVL68:
 810              	.LFB140:
  74:moudels/motor/MImotor/MImotor.c ****     MIMotorInstance *instance = (MIMotorInstance *)malloc(sizeof(MIMotorInstance));
 811              		.loc 1 74 1 is_stmt 1 view -0
 812              		.cfi_startproc
 813              		@ args = 0, pretend = 0, frame = 16
 814              		@ frame_needed = 0, uses_anonymous_args = 0
  74:moudels/motor/MImotor/MImotor.c ****     MIMotorInstance *instance = (MIMotorInstance *)malloc(sizeof(MIMotorInstance));
 815              		.loc 1 74 1 is_stmt 0 view .LVU236
 816 0000 70B5     		push	{r4, r5, r6, lr}
 817              		.cfi_def_cfa_offset 16
 818              		.cfi_offset 4, -16
 819              		.cfi_offset 5, -12
 820              		.cfi_offset 6, -8
 821              		.cfi_offset 14, -4
 822 0002 84B0     		sub	sp, sp, #16
 823              		.cfi_def_cfa_offset 32
 824 0004 0446     		mov	r4, r0
  75:moudels/motor/MImotor/MImotor.c ****     memset(instance, 0, sizeof(MIMotorInstance));
 825              		.loc 1 75 5 is_stmt 1 view .LVU237
  75:moudels/motor/MImotor/MImotor.c ****     memset(instance, 0, sizeof(MIMotorInstance));
 826              		.loc 1 75 52 is_stmt 0 view .LVU238
 827 0006 4FF4E470 		mov	r0, #456
 828              	.LVL69:
  75:moudels/motor/MImotor/MImotor.c ****     memset(instance, 0, sizeof(MIMotorInstance));
 829              		.loc 1 75 52 view .LVU239
 830 000a FFF7FEFF 		bl	malloc
 831              	.LVL70:
 832 000e 0546     		mov	r5, r0
 833              	.LVL71:
  76:moudels/motor/MImotor/MImotor.c ****     instance->motor_type = config->motor_type;
 834              		.loc 1 76 5 is_stmt 1 view .LVU240
 835 0010 4FF4E472 		mov	r2, #456
 836 0014 0021     		movs	r1, #0
 837 0016 FFF7FEFF 		bl	memset
 838              	.LVL72:
  77:moudels/motor/MImotor/MImotor.c ****     instance->motor_settings = config->controller_setting_init_config;
 839              		.loc 1 77 5 view .LVU241
  77:moudels/motor/MImotor/MImotor.c ****     instance->motor_settings = config->controller_setting_init_config;
 840              		.loc 1 77 34 is_stmt 0 view .LVU242
 841 001a 94F8A030 		ldrb	r3, [r4, #160]	@ zero_extendqisi2
  77:moudels/motor/MImotor/MImotor.c ****     instance->motor_settings = config->controller_setting_init_config;
 842              		.loc 1 77 26 view .LVU243
 843 001e 85F8AC31 		strb	r3, [r5, #428]
  78:moudels/motor/MImotor/MImotor.c ****     PIDInit(&instance->motor_controller.current_PID, &config->controller_param_init_config.current_
 844              		.loc 1 78 5 is_stmt 1 view .LVU244
  78:moudels/motor/MImotor/MImotor.c ****     PIDInit(&instance->motor_controller.current_PID, &config->controller_param_init_config.current_
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 26


 845              		.loc 1 78 30 is_stmt 0 view .LVU245
 846 0022 05F11C03 		add	r3, r5, #28
 847 0026 04F19402 		add	r2, r4, #148
 848 002a 07CA     		ldm	r2, {r0, r1, r2}
 849 002c 83E80700 		stm	r3, {r0, r1, r2}
  79:moudels/motor/MImotor/MImotor.c ****     PIDInit(&instance->motor_controller.speed_PID, &config->controller_param_init_config.speed_PID)
 850              		.loc 1 79 5 is_stmt 1 view .LVU246
 851 0030 04F11001 		add	r1, r4, #16
 852 0034 05F13800 		add	r0, r5, #56
 853 0038 FFF7FEFF 		bl	PIDInit
 854              	.LVL73:
  80:moudels/motor/MImotor/MImotor.c ****     PIDInit(&instance->motor_controller.angle_PID, &config->controller_param_init_config.angle_PID)
 855              		.loc 1 80 5 view .LVU247
 856 003c 04F13C01 		add	r1, r4, #60
 857 0040 05F1B000 		add	r0, r5, #176
 858 0044 FFF7FEFF 		bl	PIDInit
 859              	.LVL74:
  81:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.rx_id=config->can_init_config.tx_id;
 860              		.loc 1 81 5 view .LVU248
 861 0048 04F16801 		add	r1, r4, #104
 862 004c 05F59470 		add	r0, r5, #296
 863 0050 FFF7FEFF 		bl	PIDInit
 864              	.LVL75:
  82:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.can_module_callback=DecodeMIMotor;
 865              		.loc 1 82 5 view .LVU249
  82:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.can_module_callback=DecodeMIMotor;
 866              		.loc 1 82 58 is_stmt 0 view .LVU250
 867 0054 94F8A930 		ldrb	r3, [r4, #169]	@ zero_extendqisi2
  82:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.can_module_callback=DecodeMIMotor;
 868              		.loc 1 82 34 view .LVU251
 869 0058 84F8AA30 		strb	r3, [r4, #170]
  83:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.id=instance;   
 870              		.loc 1 83 5 is_stmt 1 view .LVU252
  83:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.id=instance;   
 871              		.loc 1 83 48 is_stmt 0 view .LVU253
 872 005c 1D4A     		ldr	r2, .L40
 873 005e C4F8B020 		str	r2, [r4, #176]
  84:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.EXT_ID.fields.motor_id=config->can_init_config.tx_id;
 874              		.loc 1 84 5 is_stmt 1 view .LVU254
  84:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.EXT_ID.fields.motor_id=config->can_init_config.tx_id;
 875              		.loc 1 84 31 is_stmt 0 view .LVU255
 876 0062 C4F8B450 		str	r5, [r4, #180]
  85:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.EXT_ID.fields.data=0;
 877              		.loc 1 85 5 is_stmt 1 view .LVU256
  85:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.EXT_ID.fields.data=0;
 878              		.loc 1 85 51 is_stmt 0 view .LVU257
 879 0066 84F8AB30 		strb	r3, [r4, #171]
  86:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.EXT_ID.fields.mode=3;
 880              		.loc 1 86 5 is_stmt 1 view .LVU258
  86:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.EXT_ID.fields.mode=3;
 881              		.loc 1 86 47 is_stmt 0 view .LVU259
 882 006a 0026     		movs	r6, #0
 883 006c 84F8AC60 		strb	r6, [r4, #172]
 884 0070 84F8AD60 		strb	r6, [r4, #173]
  87:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.EXT_ID.fields.res=0;
 885              		.loc 1 87 5 is_stmt 1 view .LVU260
  87:moudels/motor/MImotor/MImotor.c ****     config->can_init_config.EXT_ID.fields.res=0;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 27


 886              		.loc 1 87 47 is_stmt 0 view .LVU261
 887 0074 94F8AE30 		ldrb	r3, [r4, #174]	@ zero_extendqisi2
 888 0078 0322     		movs	r2, #3
 889 007a 62F30403 		bfi	r3, r2, #0, #5
 890 007e 84F8AE30 		strb	r3, [r4, #174]
  88:moudels/motor/MImotor/MImotor.c ****     instance->motor_can_instance = CANRegister(&config->can_init_config);//Ê≥®ÂÜåÂ∞èÁ±≥ÁîµÊú∫Âà∞can
 891              		.loc 1 88 5 is_stmt 1 view .LVU262
  88:moudels/motor/MImotor/MImotor.c ****     instance->motor_can_instance = CANRegister(&config->can_init_config);//Ê≥®ÂÜåÂ∞èÁ±≥ÁîµÊú∫Âà∞can
 892              		.loc 1 88 46 is_stmt 0 view .LVU263
 893 0082 DBB2     		uxtb	r3, r3
 894 0084 66F34713 		bfi	r3, r6, #5, #3
 895 0088 84F8AE30 		strb	r3, [r4, #174]
  89:moudels/motor/MImotor/MImotor.c ****     // Ê≥®ÂÜåÂÆàÊä§Á∫øÁ®ã
 896              		.loc 1 89 5 is_stmt 1 view .LVU264
  89:moudels/motor/MImotor/MImotor.c ****     // Ê≥®ÂÜåÂÆàÊä§Á∫øÁ®ã
 897              		.loc 1 89 36 is_stmt 0 view .LVU265
 898 008c 04F1A400 		add	r0, r4, #164
 899 0090 FFF7FEFF 		bl	CANRegister
 900              	.LVL76:
  89:moudels/motor/MImotor/MImotor.c ****     // Ê≥®ÂÜåÂÆàÊä§Á∫øÁ®ã
 901              		.loc 1 89 34 discriminator 1 view .LVU266
 902 0094 C5F8A801 		str	r0, [r5, #424]
  91:moudels/motor/MImotor/MImotor.c ****         .callback = MIMotorLostCallback,
 903              		.loc 1 91 5 is_stmt 1 view .LVU267
  91:moudels/motor/MImotor/MImotor.c ****         .callback = MIMotorLostCallback,
 904              		.loc 1 91 26 is_stmt 0 view .LVU268
 905 0098 0196     		str	r6, [sp, #4]
 906 009a 0296     		str	r6, [sp, #8]
 907 009c 0396     		str	r6, [sp, #12]
 908 009e 0223     		movs	r3, #2
 909 00a0 ADF80430 		strh	r3, [sp, #4]	@ movhi
 910 00a4 0C4B     		ldr	r3, .L40+4
 911 00a6 0293     		str	r3, [sp, #8]
 912 00a8 0395     		str	r5, [sp, #12]
  96:moudels/motor/MImotor/MImotor.c ****     instance->tongdianflag=0;
 913              		.loc 1 96 5 is_stmt 1 view .LVU269
  96:moudels/motor/MImotor/MImotor.c ****     instance->tongdianflag=0;
 914              		.loc 1 96 24 is_stmt 0 view .LVU270
 915 00aa 01A8     		add	r0, sp, #4
 916 00ac FFF7FEFF 		bl	DaemonRegister
 917              	.LVL77:
  96:moudels/motor/MImotor/MImotor.c ****     instance->tongdianflag=0;
 918              		.loc 1 96 22 discriminator 1 view .LVU271
 919 00b0 C5F8B001 		str	r0, [r5, #432]
  97:moudels/motor/MImotor/MImotor.c ****     MIMotorEnable(instance);
 920              		.loc 1 97 5 is_stmt 1 view .LVU272
  97:moudels/motor/MImotor/MImotor.c ****     MIMotorEnable(instance);
 921              		.loc 1 97 27 is_stmt 0 view .LVU273
 922 00b4 C5F8B861 		str	r6, [r5, #440]
  98:moudels/motor/MImotor/MImotor.c ****     mi_motor_instance[idx++] = instance;
 923              		.loc 1 98 5 is_stmt 1 view .LVU274
 924 00b8 2846     		mov	r0, r5
 925 00ba FFF7FEFF 		bl	MIMotorEnable
 926              	.LVL78:
  99:moudels/motor/MImotor/MImotor.c ****     return instance;
 927              		.loc 1 99 5 view .LVU275
  99:moudels/motor/MImotor/MImotor.c ****     return instance;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 28


 928              		.loc 1 99 26 is_stmt 0 view .LVU276
 929 00be 074A     		ldr	r2, .L40+8
 930 00c0 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 931 00c2 591C     		adds	r1, r3, #1
 932 00c4 1170     		strb	r1, [r2]
  99:moudels/motor/MImotor/MImotor.c ****     return instance;
 933              		.loc 1 99 30 view .LVU277
 934 00c6 064A     		ldr	r2, .L40+12
 935 00c8 42F82350 		str	r5, [r2, r3, lsl #2]
 100:moudels/motor/MImotor/MImotor.c **** }
 936              		.loc 1 100 5 is_stmt 1 view .LVU278
 101:moudels/motor/MImotor/MImotor.c **** 
 937              		.loc 1 101 1 is_stmt 0 view .LVU279
 938 00cc 2846     		mov	r0, r5
 939 00ce 04B0     		add	sp, sp, #16
 940              		.cfi_def_cfa_offset 16
 941              		@ sp needed
 942 00d0 70BD     		pop	{r4, r5, r6, pc}
 943              	.LVL79:
 944              	.L41:
 101:moudels/motor/MImotor/MImotor.c **** 
 945              		.loc 1 101 1 view .LVU280
 946 00d2 00BF     		.align	2
 947              	.L40:
 948 00d4 00000000 		.word	DecodeMIMotor
 949 00d8 00000000 		.word	MIMotorLostCallback
 950 00dc 00000000 		.word	idx
 951 00e0 00000000 		.word	mi_motor_instance
 952              		.cfi_endproc
 953              	.LFE140:
 955              		.section	.text.MIMotorOuterLoop,"ax",%progbits
 956              		.align	1
 957              		.global	MIMotorOuterLoop
 958              		.syntax unified
 959              		.thumb
 960              		.thumb_func
 962              	MIMotorOuterLoop:
 963              	.LVL80:
 964              	.LFB144:
 183:moudels/motor/MImotor/MImotor.c ****     motor->motor_settings.close_loop_type = outer_loop;
 965              		.loc 1 183 1 is_stmt 1 view -0
 966              		.cfi_startproc
 967              		@ args = 0, pretend = 0, frame = 0
 968              		@ frame_needed = 0, uses_anonymous_args = 0
 969              		@ link register save eliminated.
 184:moudels/motor/MImotor/MImotor.c **** }
 970              		.loc 1 184 5 view .LVU282
 184:moudels/motor/MImotor/MImotor.c **** }
 971              		.loc 1 184 43 is_stmt 0 view .LVU283
 972 0000 4177     		strb	r1, [r0, #29]
 185:moudels/motor/MImotor/MImotor.c **** 
 973              		.loc 1 185 1 view .LVU284
 974 0002 7047     		bx	lr
 975              		.cfi_endproc
 976              	.LFE144:
 978              		.section	.text.MIMotorSetRef,"ax",%progbits
 979              		.align	1
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 29


 980              		.global	MIMotorSetRef
 981              		.syntax unified
 982              		.thumb
 983              		.thumb_func
 985              	MIMotorSetRef:
 986              	.LVL81:
 987              	.LFB145:
 189:moudels/motor/MImotor/MImotor.c ****     motor->motor_controller.pid_ref = ref;
 988              		.loc 1 189 1 is_stmt 1 view -0
 989              		.cfi_startproc
 990              		@ args = 0, pretend = 0, frame = 0
 991              		@ frame_needed = 0, uses_anonymous_args = 0
 992              		@ link register save eliminated.
 190:moudels/motor/MImotor/MImotor.c **** }
 993              		.loc 1 190 5 view .LVU286
 190:moudels/motor/MImotor/MImotor.c **** }
 994              		.loc 1 190 37 is_stmt 0 view .LVU287
 995 0000 80ED680A 		vstr.32	s0, [r0, #416]
 191:moudels/motor/MImotor/MImotor.c **** 
 996              		.loc 1 191 1 view .LVU288
 997 0004 7047     		bx	lr
 998              		.cfi_endproc
 999              	.LFE145:
 1001              		.section	.text.FloatToUint,"ax",%progbits
 1002              		.align	1
 1003              		.global	FloatToUint
 1004              		.syntax unified
 1005              		.thumb
 1006              		.thumb_func
 1008              	FloatToUint:
 1009              	.LVL82:
 1010              	.LFB146:
 205:moudels/motor/MImotor/MImotor.c ****     float span = x_max - x_min;
 1011              		.loc 1 205 1 is_stmt 1 view -0
 1012              		.cfi_startproc
 1013              		@ args = 0, pretend = 0, frame = 0
 1014              		@ frame_needed = 0, uses_anonymous_args = 0
 1015              		@ link register save eliminated.
 206:moudels/motor/MImotor/MImotor.c ****     float offset = x_min;
 1016              		.loc 1 206 5 view .LVU290
 206:moudels/motor/MImotor/MImotor.c ****     float offset = x_min;
 1017              		.loc 1 206 11 is_stmt 0 view .LVU291
 1018 0000 31EE607A 		vsub.f32	s14, s2, s1
 1019              	.LVL83:
 207:moudels/motor/MImotor/MImotor.c ****     if(x > x_max) x=x_max;
 1020              		.loc 1 207 5 is_stmt 1 view .LVU292
 208:moudels/motor/MImotor/MImotor.c ****     else if(x < x_min) x=x_min;
 1021              		.loc 1 208 5 view .LVU293
 208:moudels/motor/MImotor/MImotor.c ****     else if(x < x_min) x=x_min;
 1022              		.loc 1 208 7 is_stmt 0 view .LVU294
 1023 0004 B4EEC01A 		vcmpe.f32	s2, s0
 1024 0008 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1025 000c 06D4     		bmi	.L45
 209:moudels/motor/MImotor/MImotor.c ****     return (uint32_t) ((x-offset)*((float)((1<<bits)-1))/span);
 1026              		.loc 1 209 10 is_stmt 1 view .LVU295
 209:moudels/motor/MImotor/MImotor.c ****     return (uint32_t) ((x-offset)*((float)((1<<bits)-1))/span);
 1027              		.loc 1 209 12 is_stmt 0 view .LVU296
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 30


 1028 000e F4EEC00A 		vcmpe.f32	s1, s0
 1029 0012 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1030 0016 14DC     		bgt	.L46
 1031 0018 B0EE401A 		vmov.f32	s2, s0
 1032              	.LVL84:
 1033              	.L45:
 210:moudels/motor/MImotor/MImotor.c **** }
 1034              		.loc 1 210 5 is_stmt 1 view .LVU297
 210:moudels/motor/MImotor/MImotor.c **** }
 1035              		.loc 1 210 26 is_stmt 0 view .LVU298
 1036 001c 31EE601A 		vsub.f32	s2, s2, s1
 1037              	.LVL85:
 210:moudels/motor/MImotor/MImotor.c **** }
 1038              		.loc 1 210 46 view .LVU299
 1039 0020 0123     		movs	r3, #1
 1040 0022 03FA00F0 		lsl	r0, r3, r0
 1041              	.LVL86:
 210:moudels/motor/MImotor/MImotor.c **** }
 1042              		.loc 1 210 53 view .LVU300
 1043 0026 0138     		subs	r0, r0, #1
 210:moudels/motor/MImotor/MImotor.c **** }
 1044              		.loc 1 210 36 view .LVU301
 1045 0028 07EE900A 		vmov	s15, r0	@ int
 1046 002c F8EEE77A 		vcvt.f32.s32	s15, s15
 210:moudels/motor/MImotor/MImotor.c **** }
 1047              		.loc 1 210 34 view .LVU302
 1048 0030 21EE271A 		vmul.f32	s2, s2, s15
 210:moudels/motor/MImotor/MImotor.c **** }
 1049              		.loc 1 210 57 view .LVU303
 1050 0034 C1EE077A 		vdiv.f32	s15, s2, s14
 211:moudels/motor/MImotor/MImotor.c **** 
 1051              		.loc 1 211 1 view .LVU304
 1052 0038 FCEEE77A 		vcvt.u32.f32	s15, s15
 1053 003c 17EE900A 		vmov	r0, s15	@ int
 1054 0040 7047     		bx	lr
 1055              	.LVL87:
 1056              	.L46:
 209:moudels/motor/MImotor/MImotor.c ****     return (uint32_t) ((x-offset)*((float)((1<<bits)-1))/span);
 1057              		.loc 1 209 25 discriminator 1 view .LVU305
 1058 0042 B0EE601A 		vmov.f32	s2, s1
 1059              	.LVL88:
 209:moudels/motor/MImotor/MImotor.c ****     return (uint32_t) ((x-offset)*((float)((1<<bits)-1))/span);
 1060              		.loc 1 209 25 discriminator 1 view .LVU306
 1061 0046 E9E7     		b	.L45
 1062              		.cfi_endproc
 1063              	.LFE146:
 1065              		.section	.text.RangeRestrict,"ax",%progbits
 1066              		.align	1
 1067              		.global	RangeRestrict
 1068              		.syntax unified
 1069              		.thumb
 1070              		.thumb_func
 1072              	RangeRestrict:
 1073              	.LVL89:
 1074              	.LFB147:
 221:moudels/motor/MImotor/MImotor.c ****     float res;
 1075              		.loc 1 221 1 is_stmt 1 view -0
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 31


 1076              		.cfi_startproc
 1077              		@ args = 0, pretend = 0, frame = 0
 1078              		@ frame_needed = 0, uses_anonymous_args = 0
 1079              		@ link register save eliminated.
 221:moudels/motor/MImotor/MImotor.c ****     float res;
 1080              		.loc 1 221 1 is_stmt 0 view .LVU308
 1081 0000 F0EE407A 		vmov.f32	s15, s0
 1082 0004 B0EE410A 		vmov.f32	s0, s2
 1083              	.LVL90:
 222:moudels/motor/MImotor/MImotor.c ****     if(x > x_max) res=x_max;
 1084              		.loc 1 222 5 is_stmt 1 view .LVU309
 223:moudels/motor/MImotor/MImotor.c ****     else if(x < x_min) res=x_min;
 1085              		.loc 1 223 5 view .LVU310
 223:moudels/motor/MImotor/MImotor.c ****     else if(x < x_min) res=x_min;
 1086              		.loc 1 223 7 is_stmt 0 view .LVU311
 1087 0008 F4EEC17A 		vcmpe.f32	s15, s2
 1088 000c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1089 0010 09DC     		bgt	.L48
 224:moudels/motor/MImotor/MImotor.c ****     else res = x;
 1090              		.loc 1 224 10 is_stmt 1 view .LVU312
 224:moudels/motor/MImotor/MImotor.c ****     else res = x;
 1091              		.loc 1 224 12 is_stmt 0 view .LVU313
 1092 0012 F4EEE07A 		vcmpe.f32	s15, s1
 1093 0016 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1094 001a 02D5     		bpl	.L52
 224:moudels/motor/MImotor/MImotor.c ****     else res = x;
 1095              		.loc 1 224 27 discriminator 1 view .LVU314
 1096 001c B0EE600A 		vmov.f32	s0, s1
 1097 0020 7047     		bx	lr
 1098              	.LVL91:
 1099              	.L52:
 225:moudels/motor/MImotor/MImotor.c ****     return res;
 1100              		.loc 1 225 14 view .LVU315
 1101 0022 B0EE670A 		vmov.f32	s0, s15
 1102              	.LVL92:
 1103              	.L48:
 226:moudels/motor/MImotor/MImotor.c **** }
 1104              		.loc 1 226 5 is_stmt 1 view .LVU316
 227:moudels/motor/MImotor/MImotor.c **** 
 1105              		.loc 1 227 1 is_stmt 0 view .LVU317
 1106 0026 7047     		bx	lr
 1107              		.cfi_endproc
 1108              	.LFE147:
 1110              		.section	.text.MI_motor_Modeset,"ax",%progbits
 1111              		.align	1
 1112              		.global	MI_motor_Modeset
 1113              		.syntax unified
 1114              		.thumb
 1115              		.thumb_func
 1117              	MI_motor_Modeset:
 1118              	.LVL93:
 1119              	.LFB155:
 418:moudels/motor/MImotor/MImotor.c ****  void MI_motor_Modeset(MIMotorInstance* hmotor,float param,uint16_t index)
 419:moudels/motor/MImotor/MImotor.c **** {
 1120              		.loc 1 419 1 is_stmt 1 view -0
 1121              		.cfi_startproc
 1122              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 32


 1123              		@ frame_needed = 0, uses_anonymous_args = 0
 1124              		.loc 1 419 1 is_stmt 0 view .LVU319
 1125 0000 10B5     		push	{r4, lr}
 1126              		.cfi_def_cfa_offset 8
 1127              		.cfi_offset 4, -8
 1128              		.cfi_offset 14, -4
 1129 0002 10EE10EA 		vmov	lr, s0
 420:moudels/motor/MImotor/MImotor.c ****     static EXT_ID_T  EXT;
 1130              		.loc 1 420 5 is_stmt 1 view .LVU320
 421:moudels/motor/MImotor/MImotor.c ****     EXT.fields.mode=18;
 1131              		.loc 1 421 5 view .LVU321
 1132              		.loc 1 421 20 is_stmt 0 view .LVU322
 1133 0006 184B     		ldr	r3, .L57
 1134 0008 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 1135 000a 1224     		movs	r4, #18
 1136 000c 64F30402 		bfi	r2, r4, #0, #5
 1137 0010 DA70     		strb	r2, [r3, #3]
 422:moudels/motor/MImotor/MImotor.c ****     EXT.fields.data=MI_MASTERID;
 1138              		.loc 1 422 5 is_stmt 1 view .LVU323
 1139              		.loc 1 422 20 is_stmt 0 view .LVU324
 1140 0012 164A     		ldr	r2, .L57+4
 1141 0014 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1142 0016 A3F80120 		strh	r2, [r3, #1]	@ unaligned
 423:moudels/motor/MImotor/MImotor.c ****     EXT.fields.motor_id=hmotor->motor_can_instance->tx_id;
 1143              		.loc 1 423 5 is_stmt 1 view .LVU325
 1144              		.loc 1 423 31 is_stmt 0 view .LVU326
 1145 001a D0F8A841 		ldr	r4, [r0, #424]
 1146              		.loc 1 423 51 view .LVU327
 1147 001e 94F83820 		ldrb	r2, [r4, #56]	@ zero_extendqisi2
 1148              		.loc 1 423 24 view .LVU328
 1149 0022 1A70     		strb	r2, [r3]
 424:moudels/motor/MImotor/MImotor.c ****     EXT.fields.res=0;
 1150              		.loc 1 424 5 is_stmt 1 view .LVU329
 1151              		.loc 1 424 19 is_stmt 0 view .LVU330
 1152 0024 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 1153 0026 22F0E002 		bic	r2, r2, #224
 1154 002a DA70     		strb	r2, [r3, #3]
 425:moudels/motor/MImotor/MImotor.c ****     hmotor->motor_can_instance->txconf.ExtId= EXT.raw;
 1155              		.loc 1 425 5 is_stmt 1 view .LVU331
 1156              		.loc 1 425 50 is_stmt 0 view .LVU332
 1157 002c 1B68     		ldr	r3, [r3]
 1158              		.loc 1 425 45 view .LVU333
 1159 002e A360     		str	r3, [r4, #8]	@ unaligned
 426:moudels/motor/MImotor/MImotor.c **** 
 427:moudels/motor/MImotor/MImotor.c ****     
 428:moudels/motor/MImotor/MImotor.c ****     for(uint8_t i=2; i<8; i++)
 1160              		.loc 1 428 5 is_stmt 1 view .LVU334
 1161              	.LBB9:
 1162              		.loc 1 428 9 view .LVU335
 1163              	.LVL94:
 1164              		.loc 1 428 17 is_stmt 0 view .LVU336
 1165 0030 0223     		movs	r3, #2
 1166              		.loc 1 428 5 view .LVU337
 1167 0032 08E0     		b	.L54
 1168              	.LVL95:
 1169              	.L55:
 429:moudels/motor/MImotor/MImotor.c ****     {
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 33


 430:moudels/motor/MImotor/MImotor.c ****         hmotor->motor_can_instance->tx_buff[i]=0;
 1170              		.loc 1 430 9 is_stmt 1 view .LVU338
 1171              		.loc 1 430 15 is_stmt 0 view .LVU339
 1172 0034 D0F8A821 		ldr	r2, [r0, #424]
 1173              		.loc 1 430 47 view .LVU340
 1174 0038 1A44     		add	r2, r2, r3
 1175 003a 4FF0000C 		mov	ip, #0
 1176 003e 82F83DC0 		strb	ip, [r2, #61]
 428:moudels/motor/MImotor/MImotor.c ****     {
 1177              		.loc 1 428 28 is_stmt 1 discriminator 3 view .LVU341
 1178 0042 0133     		adds	r3, r3, #1
 1179              	.LVL96:
 428:moudels/motor/MImotor/MImotor.c ****     {
 1180              		.loc 1 428 28 is_stmt 0 discriminator 3 view .LVU342
 1181 0044 DBB2     		uxtb	r3, r3
 1182              	.LVL97:
 1183              	.L54:
 428:moudels/motor/MImotor/MImotor.c ****     {
 1184              		.loc 1 428 23 is_stmt 1 discriminator 1 view .LVU343
 1185 0046 072B     		cmp	r3, #7
 1186 0048 F4D9     		bls	.L55
 1187              	.LBE9:
 431:moudels/motor/MImotor/MImotor.c ****     }
 432:moudels/motor/MImotor/MImotor.c ****     memcpy(&hmotor->motor_can_instance->tx_buff[0],&index,2);
 1188              		.loc 1 432 5 view .LVU344
 1189              		.loc 1 432 19 is_stmt 0 view .LVU345
 1190 004a D0F8A831 		ldr	r3, [r0, #424]
 1191              	.LVL98:
 1192              		.loc 1 432 5 view .LVU346
 1193 004e A3F83D10 		strh	r1, [r3, #61]	@ unaligned
 433:moudels/motor/MImotor/MImotor.c ****     memcpy(&hmotor->motor_can_instance->tx_buff[4],&param,4);
 1194              		.loc 1 433 5 is_stmt 1 view .LVU347
 1195              		.loc 1 433 19 is_stmt 0 view .LVU348
 1196 0052 D0F8A831 		ldr	r3, [r0, #424]
 1197              		.loc 1 433 5 view .LVU349
 1198 0056 C3F841E0 		str	lr, [r3, #65]	@ unaligned
 434:moudels/motor/MImotor/MImotor.c ****     CANTransmit(hmotor->motor_can_instance,1);
 1199              		.loc 1 434 5 is_stmt 1 view .LVU350
 1200 005a B7EE000A 		vmov.f32	s0, #1.0e+0
 1201              	.LVL99:
 1202              		.loc 1 434 5 is_stmt 0 view .LVU351
 1203 005e D0F8A801 		ldr	r0, [r0, #424]
 1204              	.LVL100:
 1205              		.loc 1 434 5 view .LVU352
 1206 0062 FFF7FEFF 		bl	CANTransmit
 1207              	.LVL101:
 435:moudels/motor/MImotor/MImotor.c ****     // if(!CANTransmit(hmotor->motor_can_instance,1)){
 436:moudels/motor/MImotor/MImotor.c ****     //     while(1){
 437:moudels/motor/MImotor/MImotor.c **** 
 438:moudels/motor/MImotor/MImotor.c ****     //     }
 439:moudels/motor/MImotor/MImotor.c ****     // }
 440:moudels/motor/MImotor/MImotor.c **** }
 1208              		.loc 1 440 1 view .LVU353
 1209 0066 10BD     		pop	{r4, pc}
 1210              	.L58:
 1211              		.align	2
 1212              	.L57:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 34


 1213 0068 00000000 		.word	EXT.4
 1214 006c 00000000 		.word	MI_MASTERID
 1215              		.cfi_endproc
 1216              	.LFE155:
 1218              		.section	.text.MI_motor_setzero,"ax",%progbits
 1219              		.align	1
 1220              		.global	MI_motor_setzero
 1221              		.syntax unified
 1222              		.thumb
 1223              		.thumb_func
 1225              	MI_motor_setzero:
 1226              	.LVL102:
 1227              	.LFB156:
 441:moudels/motor/MImotor/MImotor.c **** /*-------------------- Â∞ÅË£ÖÁöÑ‰∏Ä‰∫õÊéßÂà∂ÂáΩÊï∞ --------------------*/
 442:moudels/motor/MImotor/MImotor.c **** 
 443:moudels/motor/MImotor/MImotor.c **** 
 444:moudels/motor/MImotor/MImotor.c **** /**
 445:moudels/motor/MImotor/MImotor.c ****   * @brief          Â∞èÁ±≥ÁîµÊú∫ÂäõÁü©ÊéßÂà∂Ê®°ÂºèÊéßÂà∂Êåá‰ª§
 446:moudels/motor/MImotor/MImotor.c ****   * @param[in]      hmotor ÁîµÊú∫ÁªìÊûÑ‰Ωì
 447:moudels/motor/MImotor/MImotor.c ****   * @param[in]      torque ÁõÆÊ†áÂäõÁü©
 448:moudels/motor/MImotor/MImotor.c ****   * @retval         none
 449:moudels/motor/MImotor/MImotor.c ****   */
 450:moudels/motor/MImotor/MImotor.c **** void  MI_motor_setzero(MIMotorInstance* hmotor)
 451:moudels/motor/MImotor/MImotor.c **** {   
 1228              		.loc 1 451 1 is_stmt 1 view -0
 1229              		.cfi_startproc
 1230              		@ args = 0, pretend = 0, frame = 0
 1231              		@ frame_needed = 0, uses_anonymous_args = 0
 1232              		.loc 1 451 1 is_stmt 0 view .LVU355
 1233 0000 08B5     		push	{r3, lr}
 1234              		.cfi_def_cfa_offset 8
 1235              		.cfi_offset 3, -8
 1236              		.cfi_offset 14, -4
 452:moudels/motor/MImotor/MImotor.c ****      MI_motor_SetMechPositionToZero( hmotor);
 1237              		.loc 1 452 6 is_stmt 1 view .LVU356
 1238 0002 FFF7FEFF 		bl	MI_motor_SetMechPositionToZero
 1239              	.LVL103:
 453:moudels/motor/MImotor/MImotor.c ****     //     MI_motor_Control( hmotor, float torque, float MechPosition , float speed , float kp , fl
 454:moudels/motor/MImotor/MImotor.c ****     // }
 455:moudels/motor/MImotor/MImotor.c ****     // MI_motor_Modeset(hmotor, torque,0x7006);
 456:moudels/motor/MImotor/MImotor.c **** }
 1240              		.loc 1 456 1 is_stmt 0 view .LVU357
 1241 0006 08BD     		pop	{r3, pc}
 1242              		.cfi_endproc
 1243              	.LFE156:
 1245              		.section	.text.MI_motor_YunkongControl,"ax",%progbits
 1246              		.align	1
 1247              		.global	MI_motor_YunkongControl
 1248              		.syntax unified
 1249              		.thumb
 1250              		.thumb_func
 1252              	MI_motor_YunkongControl:
 1253              	.LVL104:
 1254              	.LFB157:
 457:moudels/motor/MImotor/MImotor.c **** /**
 458:moudels/motor/MImotor/MImotor.c ****   * @brief          Â∞èÁ±≥ÁîµÊú∫ÂäõÁü©ÊéßÂà∂Ê®°ÂºèÊéßÂà∂Êåá‰ª§
 459:moudels/motor/MImotor/MImotor.c ****   * @param[in]      hmotor ÁîµÊú∫ÁªìÊûÑ‰Ωì
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 35


 460:moudels/motor/MImotor/MImotor.c ****   * @param[in]      torque ÁõÆÊ†áÂäõÁü©
 461:moudels/motor/MImotor/MImotor.c ****   * @retval         none
 462:moudels/motor/MImotor/MImotor.c ****   */
 463:moudels/motor/MImotor/MImotor.c **** void  MI_motor_YunkongControl(MIMotorInstance* hmotor)
 464:moudels/motor/MImotor/MImotor.c **** {   
 1255              		.loc 1 464 1 is_stmt 1 view -0
 1256              		.cfi_startproc
 1257              		@ args = 0, pretend = 0, frame = 0
 1258              		@ frame_needed = 0, uses_anonymous_args = 0
 465:moudels/motor/MImotor/MImotor.c ****     if(hmotor->motor_settings.ifsetflag==0){
 1259              		.loc 1 465 5 view .LVU359
 1260              		.loc 1 465 30 is_stmt 0 view .LVU360
 1261 0000 D0ED097A 		vldr.32	s15, [r0, #36]
 1262              		.loc 1 465 7 view .LVU361
 1263 0004 F5EE407A 		vcmp.f32	s15, #0
 1264 0008 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1265 000c 00D0     		beq	.L67
 1266 000e 7047     		bx	lr
 1267              	.L67:
 464:moudels/motor/MImotor/MImotor.c ****     if(hmotor->motor_settings.ifsetflag==0){
 1268              		.loc 1 464 1 view .LVU362
 1269 0010 10B5     		push	{r4, lr}
 1270              		.cfi_def_cfa_offset 8
 1271              		.cfi_offset 4, -8
 1272              		.cfi_offset 14, -4
 1273 0012 0446     		mov	r4, r0
 466:moudels/motor/MImotor/MImotor.c ****     MI_motor_ModeSwitch(hmotor, 0,0x7005);
 1274              		.loc 1 466 5 is_stmt 1 view .LVU363
 1275 0014 47F20502 		movw	r2, #28677
 1276 0018 0021     		movs	r1, #0
 1277 001a FFF7FEFF 		bl	MI_motor_ModeSwitch
 1278              	.LVL105:
 467:moudels/motor/MImotor/MImotor.c ****     MI_motor_Enable ( hmotor);}
 1279              		.loc 1 467 5 view .LVU364
 1280 001e 2046     		mov	r0, r4
 1281 0020 FFF7FEFF 		bl	MI_motor_Enable
 1282              	.LVL106:
 468:moudels/motor/MImotor/MImotor.c ****     // else{
 469:moudels/motor/MImotor/MImotor.c ****     //     MI_motor_Control( hmotor, float torque, float MechPosition , float speed , float kp , fl
 470:moudels/motor/MImotor/MImotor.c ****     // }
 471:moudels/motor/MImotor/MImotor.c ****     // MI_motor_Modeset(hmotor, torque,0x7006);
 472:moudels/motor/MImotor/MImotor.c **** }
 1283              		.loc 1 472 1 is_stmt 0 view .LVU365
 1284 0024 10BD     		pop	{r4, pc}
 1285              		.loc 1 472 1 view .LVU366
 1286              		.cfi_endproc
 1287              	.LFE157:
 1289              		.section	.text.MI_motor_TorqueControl,"ax",%progbits
 1290              		.align	1
 1291              		.global	MI_motor_TorqueControl
 1292              		.syntax unified
 1293              		.thumb
 1294              		.thumb_func
 1296              	MI_motor_TorqueControl:
 1297              	.LVL107:
 1298              	.LFB158:
 473:moudels/motor/MImotor/MImotor.c **** /**
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 36


 474:moudels/motor/MImotor/MImotor.c ****   * @brief          Â∞èÁ±≥ÁîµÊú∫ÂäõÁü©ÊéßÂà∂Ê®°ÂºèÊéßÂà∂Êåá‰ª§
 475:moudels/motor/MImotor/MImotor.c ****   * @param[in]      hmotor ÁîµÊú∫ÁªìÊûÑ‰Ωì
 476:moudels/motor/MImotor/MImotor.c ****   * @param[in]      torque ÁõÆÊ†áÂäõÁü©
 477:moudels/motor/MImotor/MImotor.c ****   * @retval         none
 478:moudels/motor/MImotor/MImotor.c ****   */
 479:moudels/motor/MImotor/MImotor.c **** void  MI_motor_TorqueControl(MIMotorInstance* hmotor)
 480:moudels/motor/MImotor/MImotor.c **** {
 1299              		.loc 1 480 1 is_stmt 1 view -0
 1300              		.cfi_startproc
 1301              		@ args = 0, pretend = 0, frame = 0
 1302              		@ frame_needed = 0, uses_anonymous_args = 0
 1303              		.loc 1 480 1 is_stmt 0 view .LVU368
 1304 0000 10B5     		push	{r4, lr}
 1305              		.cfi_def_cfa_offset 8
 1306              		.cfi_offset 4, -8
 1307              		.cfi_offset 14, -4
 1308 0002 0446     		mov	r4, r0
 481:moudels/motor/MImotor/MImotor.c ****     MI_motor_ModeSwitch(hmotor, 3,0x7005);
 1309              		.loc 1 481 5 is_stmt 1 view .LVU369
 1310 0004 47F20502 		movw	r2, #28677
 1311 0008 0321     		movs	r1, #3
 1312 000a FFF7FEFF 		bl	MI_motor_ModeSwitch
 1313              	.LVL108:
 482:moudels/motor/MImotor/MImotor.c ****     MI_motor_Enable ( hmotor);
 1314              		.loc 1 482 5 view .LVU370
 1315 000e 2046     		mov	r0, r4
 1316 0010 FFF7FEFF 		bl	MI_motor_Enable
 1317              	.LVL109:
 483:moudels/motor/MImotor/MImotor.c ****     // MI_motor_Modeset(hmotor, torque,0x7006);
 484:moudels/motor/MImotor/MImotor.c **** }
 1318              		.loc 1 484 1 is_stmt 0 view .LVU371
 1319 0014 10BD     		pop	{r4, pc}
 1320              		.loc 1 484 1 view .LVU372
 1321              		.cfi_endproc
 1322              	.LFE158:
 1324              		.section	.text.MI_motor_stop,"ax",%progbits
 1325              		.align	1
 1326              		.global	MI_motor_stop
 1327              		.syntax unified
 1328              		.thumb
 1329              		.thumb_func
 1331              	MI_motor_stop:
 1332              	.LVL110:
 1333              	.LFB159:
 485:moudels/motor/MImotor/MImotor.c **** 
 486:moudels/motor/MImotor/MImotor.c **** /**
 487:moudels/motor/MImotor/MImotor.c ****   * @brief          Â∞èÁ±≥ÁîµÊú∫ÂäõÁü©ÊéßÂà∂Ê®°ÂºèÊéßÂà∂Êåá‰ª§
 488:moudels/motor/MImotor/MImotor.c ****   * @param[in]      hmotor ÁîµÊú∫ÁªìÊûÑ‰Ωì
 489:moudels/motor/MImotor/MImotor.c ****   * @param[in]      torque ÁõÆÊ†áÂäõÁü©
 490:moudels/motor/MImotor/MImotor.c ****   * @retval         none
 491:moudels/motor/MImotor/MImotor.c ****   */
 492:moudels/motor/MImotor/MImotor.c **** void  MI_motor_stop(MIMotorInstance* hmotor)
 493:moudels/motor/MImotor/MImotor.c **** {
 1334              		.loc 1 493 1 is_stmt 1 view -0
 1335              		.cfi_startproc
 1336              		@ args = 0, pretend = 0, frame = 0
 1337              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 37


 1338              		.loc 1 493 1 is_stmt 0 view .LVU374
 1339 0000 08B5     		push	{r3, lr}
 1340              		.cfi_def_cfa_offset 8
 1341              		.cfi_offset 3, -8
 1342              		.cfi_offset 14, -4
 494:moudels/motor/MImotor/MImotor.c ****     MI_motor_Stop( hmotor);
 1343              		.loc 1 494 5 is_stmt 1 view .LVU375
 1344 0002 FFF7FEFF 		bl	MI_motor_Stop
 1345              	.LVL111:
 495:moudels/motor/MImotor/MImotor.c **** }
 1346              		.loc 1 495 1 is_stmt 0 view .LVU376
 1347 0006 08BD     		pop	{r3, pc}
 1348              		.cfi_endproc
 1349              	.LFE159:
 1351              		.section	.text.MI_motor_LocationControl,"ax",%progbits
 1352              		.align	1
 1353              		.global	MI_motor_LocationControl
 1354              		.syntax unified
 1355              		.thumb
 1356              		.thumb_func
 1358              	MI_motor_LocationControl:
 1359              	.LVL112:
 1360              	.LFB160:
 496:moudels/motor/MImotor/MImotor.c **** 
 497:moudels/motor/MImotor/MImotor.c **** /**
 498:moudels/motor/MImotor/MImotor.c ****   * @brief          Â∞èÁ±≥ÁîµÊú∫‰ΩçÁΩÆÊ®°ÂºèÊéßÂà∂Êåá‰ª§
 499:moudels/motor/MImotor/MImotor.c ****   * @param[in]      hmotor ÁîµÊú∫ÁªìÊûÑ‰Ωì
 500:moudels/motor/MImotor/MImotor.c ****   * @param[in]      location ÊéßÂà∂‰ΩçÁΩÆ rad
 501:moudels/motor/MImotor/MImotor.c ****   * @param[in]      kp ÂìçÂ∫îÈÄüÂ∫¶(Âà∞Ëææ‰ΩçÁΩÆÂø´ÊÖ¢)Ôºå‰∏ÄËà¨Âèñ1-10
 502:moudels/motor/MImotor/MImotor.c ****   * @param[in]      kd ÁîµÊú∫ÈòªÂ∞ºÔºåËøáÂ∞è‰ºöÈúáËç°ÔºåËøáÂ§ßÁîµÊú∫‰ºöÈúáÂä®ÊòéÊòæ„ÄÇ‰∏ÄËà¨Âèñ0.5Â
 503:moudels/motor/MImotor/MImotor.c ****   * @retval         none
 504:moudels/motor/MImotor/MImotor.c ****   */
 505:moudels/motor/MImotor/MImotor.c **** void  MI_motor_LocationControl(MIMotorInstance* hmotor)
 506:moudels/motor/MImotor/MImotor.c **** {
 1361              		.loc 1 506 1 is_stmt 1 view -0
 1362              		.cfi_startproc
 1363              		@ args = 0, pretend = 0, frame = 0
 1364              		@ frame_needed = 0, uses_anonymous_args = 0
 1365              		.loc 1 506 1 is_stmt 0 view .LVU378
 1366 0000 10B5     		push	{r4, lr}
 1367              		.cfi_def_cfa_offset 8
 1368              		.cfi_offset 4, -8
 1369              		.cfi_offset 14, -4
 1370 0002 0446     		mov	r4, r0
 507:moudels/motor/MImotor/MImotor.c ****    MI_motor_ModeSwitch(hmotor, 1,0x7005);
 1371              		.loc 1 507 4 is_stmt 1 view .LVU379
 1372 0004 47F20502 		movw	r2, #28677
 1373 0008 0121     		movs	r1, #1
 1374 000a FFF7FEFF 		bl	MI_motor_ModeSwitch
 1375              	.LVL113:
 508:moudels/motor/MImotor/MImotor.c ****    osDelay(20);
 1376              		.loc 1 508 4 view .LVU380
 1377 000e 1420     		movs	r0, #20
 1378 0010 FFF7FEFF 		bl	osDelay
 1379              	.LVL114:
 509:moudels/motor/MImotor/MImotor.c ****    MI_motor_Enable ( hmotor);
 1380              		.loc 1 509 4 view .LVU381
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 38


 1381 0014 2046     		mov	r0, r4
 1382 0016 FFF7FEFF 		bl	MI_motor_Enable
 1383              	.LVL115:
 510:moudels/motor/MImotor/MImotor.c ****    osDelay(20);
 1384              		.loc 1 510 4 view .LVU382
 1385 001a 1420     		movs	r0, #20
 1386 001c FFF7FEFF 		bl	osDelay
 1387              	.LVL116:
 511:moudels/motor/MImotor/MImotor.c ****    MI_motor_Modeset(hmotor, hmotor->motor_controller.speed_PID.MaxOut,0x7017);//ÊúÄÂ§ßÈÄüÂ∫¶
 1388              		.loc 1 511 4 view .LVU383
 1389 0020 47F21701 		movw	r1, #28695
 1390 0024 94ED2F0A 		vldr.32	s0, [r4, #188]
 1391 0028 2046     		mov	r0, r4
 1392 002a FFF7FEFF 		bl	MI_motor_Modeset
 1393              	.LVL117:
 512:moudels/motor/MImotor/MImotor.c ****    osDelay(20);
 1394              		.loc 1 512 4 view .LVU384
 1395 002e 1420     		movs	r0, #20
 1396 0030 FFF7FEFF 		bl	osDelay
 1397              	.LVL118:
 513:moudels/motor/MImotor/MImotor.c **** //    MI_motor_Modeset(hmotor,hmotor->motor_controller.current_PID.MaxOut,0x7018);
 514:moudels/motor/MImotor/MImotor.c **** //     osDelay(20);
 515:moudels/motor/MImotor/MImotor.c ****     // MI_motor_Modeset(hmotor, location,0x7016);//ÈÄüÂ∫¶
 516:moudels/motor/MImotor/MImotor.c **** 
 517:moudels/motor/MImotor/MImotor.c **** }
 1398              		.loc 1 517 1 is_stmt 0 view .LVU385
 1399 0034 10BD     		pop	{r4, pc}
 1400              		.loc 1 517 1 view .LVU386
 1401              		.cfi_endproc
 1402              	.LFE160:
 1404              		.section	.text.MI_motor_SpeedControl,"ax",%progbits
 1405              		.align	1
 1406              		.global	MI_motor_SpeedControl
 1407              		.syntax unified
 1408              		.thumb
 1409              		.thumb_func
 1411              	MI_motor_SpeedControl:
 1412              	.LVL119:
 1413              	.LFB161:
 518:moudels/motor/MImotor/MImotor.c **** 
 519:moudels/motor/MImotor/MImotor.c **** /**
 520:moudels/motor/MImotor/MImotor.c ****   * @brief          Â∞èÁ±≥ÁîµÊú∫ÈÄüÂ∫¶Ê®°ÂºèÊéßÂà∂Êåá‰ª§
 521:moudels/motor/MImotor/MImotor.c ****   * @param[in]      hmotor ÁîµÊú∫ÁªìÊûÑ‰Ωì
 522:moudels/motor/MImotor/MImotor.c ****   * @param[in]      speed ÊéßÂà∂ÈÄüÂ∫¶
 523:moudels/motor/MImotor/MImotor.c ****   * @param[in]      kd ÂìçÂ∫îÈÄüÂ∫¶Ôºå‰∏ÄËà¨Âèñ0.1-1
 524:moudels/motor/MImotor/MImotor.c ****   * @retval         none
 525:moudels/motor/MImotor/MImotor.c ****   */
 526:moudels/motor/MImotor/MImotor.c **** void  MI_motor_SpeedControl(MIMotorInstance* hmotor)
 527:moudels/motor/MImotor/MImotor.c **** {
 1414              		.loc 1 527 1 is_stmt 1 view -0
 1415              		.cfi_startproc
 1416              		@ args = 0, pretend = 0, frame = 0
 1417              		@ frame_needed = 0, uses_anonymous_args = 0
 1418              		.loc 1 527 1 is_stmt 0 view .LVU388
 1419 0000 10B5     		push	{r4, lr}
 1420              		.cfi_def_cfa_offset 8
 1421              		.cfi_offset 4, -8
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 39


 1422              		.cfi_offset 14, -4
 1423 0002 0446     		mov	r4, r0
 528:moudels/motor/MImotor/MImotor.c ****     MI_motor_ModeSwitch(hmotor, 2,0x7005);
 1424              		.loc 1 528 5 is_stmt 1 view .LVU389
 1425 0004 47F20502 		movw	r2, #28677
 1426 0008 0221     		movs	r1, #2
 1427 000a FFF7FEFF 		bl	MI_motor_ModeSwitch
 1428              	.LVL120:
 529:moudels/motor/MImotor/MImotor.c ****    MI_motor_Enable ( hmotor);
 1429              		.loc 1 529 4 view .LVU390
 1430 000e 2046     		mov	r0, r4
 1431 0010 FFF7FEFF 		bl	MI_motor_Enable
 1432              	.LVL121:
 530:moudels/motor/MImotor/MImotor.c ****    MI_motor_Modeset(hmotor,hmotor->motor_controller.current_PID.MaxOut,0x7018);//ÊúÄÂ§ßdianliu
 1433              		.loc 1 530 4 view .LVU391
 1434 0014 47F21801 		movw	r1, #28696
 1435 0018 94ED110A 		vldr.32	s0, [r4, #68]
 1436 001c 2046     		mov	r0, r4
 1437 001e FFF7FEFF 		bl	MI_motor_Modeset
 1438              	.LVL122:
 531:moudels/motor/MImotor/MImotor.c ****     // MI_motor_Modeset(hmotor,speed,0x700A);//ÈÄüÂ∫¶
 532:moudels/motor/MImotor/MImotor.c **** }
 1439              		.loc 1 532 1 is_stmt 0 view .LVU392
 1440 0022 10BD     		pop	{r4, pc}
 1441              		.loc 1 532 1 view .LVU393
 1442              		.cfi_endproc
 1443              	.LFE161:
 1445              		.section	.text.MIMotorControl,"ax",%progbits
 1446              		.align	1
 1447              		.global	MIMotorControl
 1448              		.syntax unified
 1449              		.thumb
 1450              		.thumb_func
 1452              	MIMotorControl:
 1453              	.LFB141:
 104:moudels/motor/MImotor/MImotor.c ****     MIMotorInstance *motor;
 1454              		.loc 1 104 1 is_stmt 1 view -0
 1455              		.cfi_startproc
 1456              		@ args = 0, pretend = 0, frame = 0
 1457              		@ frame_needed = 0, uses_anonymous_args = 0
 1458 0000 38B5     		push	{r3, r4, r5, lr}
 1459              		.cfi_def_cfa_offset 16
 1460              		.cfi_offset 3, -16
 1461              		.cfi_offset 4, -12
 1462              		.cfi_offset 5, -8
 1463              		.cfi_offset 14, -4
 105:moudels/motor/MImotor/MImotor.c ****     Motor_Control_Setting_s *motor_setting;// ÁîµÊú∫ÊéßÂà∂ÂèÇÊï∞
 1464              		.loc 1 105 5 view .LVU395
 106:moudels/motor/MImotor/MImotor.c ****     // Motor_Controller_s *motor_controller;   // ÁîµÊú∫ÊéßÂà∂Âô®
 1465              		.loc 1 106 5 view .LVU396
 109:moudels/motor/MImotor/MImotor.c ****     for(size_t i=0;i<idx;i++)
 1466              		.loc 1 109 5 view .LVU397
 110:moudels/motor/MImotor/MImotor.c ****     {
 1467              		.loc 1 110 5 view .LVU398
 1468              	.LBB10:
 110:moudels/motor/MImotor/MImotor.c ****     {
 1469              		.loc 1 110 9 view .LVU399
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 40


 1470              	.LVL123:
 110:moudels/motor/MImotor/MImotor.c ****     {
 1471              		.loc 1 110 16 is_stmt 0 view .LVU400
 1472 0002 0025     		movs	r5, #0
 110:moudels/motor/MImotor/MImotor.c ****     {
 1473              		.loc 1 110 5 view .LVU401
 1474 0004 17E0     		b	.L77
 1475              	.LVL124:
 1476              	.L97:
 1477              	.LBB11:
 118:moudels/motor/MImotor/MImotor.c ****             osDelay(20);
 1478              		.loc 1 118 13 is_stmt 1 view .LVU402
 1479 0006 2046     		mov	r0, r4
 1480 0008 FFF7FEFF 		bl	MI_motor_setzero
 1481              	.LVL125:
 119:moudels/motor/MImotor/MImotor.c ****             motor->tongdianflag=1;
 1482              		.loc 1 119 13 view .LVU403
 1483 000c 1420     		movs	r0, #20
 1484 000e FFF7FEFF 		bl	osDelay
 1485              	.LVL126:
 120:moudels/motor/MImotor/MImotor.c ****         }
 1486              		.loc 1 120 13 view .LVU404
 120:moudels/motor/MImotor/MImotor.c ****         }
 1487              		.loc 1 120 32 is_stmt 0 view .LVU405
 1488 0012 0123     		movs	r3, #1
 1489 0014 C4F8B831 		str	r3, [r4, #440]
 1490 0018 1DE0     		b	.L78
 1491              	.L98:
 120:moudels/motor/MImotor/MImotor.c ****         }
 1492              		.loc 1 120 32 view .LVU406
 1493              	.LBE11:
 126:moudels/motor/MImotor/MImotor.c ****               motor_setting->ifsetflag=0;
 1494              		.loc 1 126 15 is_stmt 1 view .LVU407
 1495 001a 2046     		mov	r0, r4
 1496 001c FFF7FEFF 		bl	MI_motor_stop
 1497              	.LVL127:
 127:moudels/motor/MImotor/MImotor.c ****         }else if(motor->stop_flag == MOTOR_ENALBED&&motor_setting->ifsetflag==0){
 1498              		.loc 1 127 15 view .LVU408
 127:moudels/motor/MImotor/MImotor.c ****         }else if(motor->stop_flag == MOTOR_ENALBED&&motor_setting->ifsetflag==0){
 1499              		.loc 1 127 39 is_stmt 0 view .LVU409
 1500 0020 0023     		movs	r3, #0
 1501 0022 6362     		str	r3, [r4, #36]	@ float
 1502              	.L81:
 150:moudels/motor/MImotor/MImotor.c ****             if((motor_setting->close_loop_type==ANGLE_LOOP)){
 1503              		.loc 1 150 10 is_stmt 1 view .LVU410
 150:moudels/motor/MImotor/MImotor.c ****             if((motor_setting->close_loop_type==ANGLE_LOOP)){
 1504              		.loc 1 150 18 is_stmt 0 view .LVU411
 1505 0024 94F8AD31 		ldrb	r3, [r4, #429]	@ zero_extendqisi2
 150:moudels/motor/MImotor/MImotor.c ****             if((motor_setting->close_loop_type==ANGLE_LOOP)){
 1506              		.loc 1 150 12 view .LVU412
 1507 0028 012B     		cmp	r3, #1
 1508 002a 57D0     		beq	.L94
 1509              	.L87:
 162:moudels/motor/MImotor/MImotor.c ****          }
 1510              		.loc 1 162 13 is_stmt 1 view .LVU413
 164:moudels/motor/MImotor/MImotor.c ****                 MI_motor_setzero( motor);
 1511              		.loc 1 164 10 view .LVU414
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 41


 164:moudels/motor/MImotor/MImotor.c ****                 MI_motor_setzero( motor);
 1512              		.loc 1 164 26 is_stmt 0 view .LVU415
 1513 002c 637F     		ldrb	r3, [r4, #29]	@ zero_extendqisi2
 164:moudels/motor/MImotor/MImotor.c ****                 MI_motor_setzero( motor);
 1514              		.loc 1 164 12 view .LVU416
 1515 002e 062B     		cmp	r3, #6
 1516 0030 00F08880 		beq	.L95
 1517              	.L90:
 110:moudels/motor/MImotor/MImotor.c ****     {
 1518              		.loc 1 110 27 is_stmt 1 discriminator 2 view .LVU417
 1519 0034 0135     		adds	r5, r5, #1
 1520              	.LVL128:
 1521              	.L77:
 110:moudels/motor/MImotor/MImotor.c ****     {
 1522              		.loc 1 110 21 discriminator 1 view .LVU418
 1523 0036 464B     		ldr	r3, .L101
 1524 0038 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1525 003a AB42     		cmp	r3, r5
 1526 003c 40F28680 		bls	.L96
 112:moudels/motor/MImotor/MImotor.c ****         motor_setting = &motor->motor_settings;
 1527              		.loc 1 112 9 view .LVU419
 112:moudels/motor/MImotor/MImotor.c ****         motor_setting = &motor->motor_settings;
 1528              		.loc 1 112 15 is_stmt 0 view .LVU420
 1529 0040 444B     		ldr	r3, .L101+4
 1530 0042 53F82540 		ldr	r4, [r3, r5, lsl #2]
 1531              	.LVL129:
 113:moudels/motor/MImotor/MImotor.c ****         // motor_controller = &motor->motor_controller;
 1532              		.loc 1 113 9 is_stmt 1 view .LVU421
 116:moudels/motor/MImotor/MImotor.c ****         if(motor->tongdianflag==0){
 1533              		.loc 1 116 9 view .LVU422
 116:moudels/motor/MImotor/MImotor.c ****         if(motor->tongdianflag==0){
 1534              		.loc 1 116 38 is_stmt 0 view .LVU423
 1535 0046 D4F8A021 		ldr	r2, [r4, #416]	@ float
 116:moudels/motor/MImotor/MImotor.c ****         if(motor->tongdianflag==0){
 1536              		.loc 1 116 13 view .LVU424
 1537 004a 434B     		ldr	r3, .L101+8
 1538 004c 1A60     		str	r2, [r3]	@ float
 117:moudels/motor/MImotor/MImotor.c ****             MI_motor_setzero( motor);
 1539              		.loc 1 117 9 is_stmt 1 view .LVU425
 117:moudels/motor/MImotor/MImotor.c ****             MI_motor_setzero( motor);
 1540              		.loc 1 117 17 is_stmt 0 view .LVU426
 1541 004e D4F8B831 		ldr	r3, [r4, #440]
 117:moudels/motor/MImotor/MImotor.c ****             MI_motor_setzero( motor);
 1542              		.loc 1 117 11 view .LVU427
 1543 0052 002B     		cmp	r3, #0
 1544 0054 D7D0     		beq	.L97
 1545              	.L78:
 122:moudels/motor/MImotor/MImotor.c ****             ref=ref*-1;
 1546              		.loc 1 122 9 is_stmt 1 view .LVU428
 122:moudels/motor/MImotor/MImotor.c ****             ref=ref*-1;
 1547              		.loc 1 122 33 is_stmt 0 view .LVU429
 1548 0056 A37F     		ldrb	r3, [r4, #30]	@ zero_extendqisi2
 122:moudels/motor/MImotor/MImotor.c ****             ref=ref*-1;
 1549              		.loc 1 122 11 view .LVU430
 1550 0058 33B9     		cbnz	r3, .L79
 123:moudels/motor/MImotor/MImotor.c ****         }
 1551              		.loc 1 123 13 is_stmt 1 view .LVU431
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 42


 123:moudels/motor/MImotor/MImotor.c ****         }
 1552              		.loc 1 123 20 is_stmt 0 view .LVU432
 1553 005a 3F4B     		ldr	r3, .L101+8
 1554 005c D3ED007A 		vldr.32	s15, [r3]
 1555 0060 F1EE677A 		vneg.f32	s15, s15
 123:moudels/motor/MImotor/MImotor.c ****         }
 1556              		.loc 1 123 16 view .LVU433
 1557 0064 C3ED007A 		vstr.32	s15, [r3]
 1558              	.L79:
 125:moudels/motor/MImotor/MImotor.c ****               MI_motor_stop(motor);
 1559              		.loc 1 125 9 is_stmt 1 view .LVU434
 125:moudels/motor/MImotor/MImotor.c ****               MI_motor_stop(motor);
 1560              		.loc 1 125 17 is_stmt 0 view .LVU435
 1561 0068 94F8AD31 		ldrb	r3, [r4, #429]	@ zero_extendqisi2
 125:moudels/motor/MImotor/MImotor.c ****               MI_motor_stop(motor);
 1562              		.loc 1 125 11 view .LVU436
 1563 006c 002B     		cmp	r3, #0
 1564 006e D4D0     		beq	.L98
 128:moudels/motor/MImotor/MImotor.c ****             if((motor_setting->close_loop_type==ANGLE_LOOP&&motor_setting->ifsetflag==0)){
 1565              		.loc 1 128 15 is_stmt 1 view .LVU437
 128:moudels/motor/MImotor/MImotor.c ****             if((motor_setting->close_loop_type==ANGLE_LOOP&&motor_setting->ifsetflag==0)){
 1566              		.loc 1 128 17 is_stmt 0 view .LVU438
 1567 0070 012B     		cmp	r3, #1
 1568 0072 D7D1     		bne	.L81
 128:moudels/motor/MImotor/MImotor.c ****             if((motor_setting->close_loop_type==ANGLE_LOOP&&motor_setting->ifsetflag==0)){
 1569              		.loc 1 128 66 discriminator 1 view .LVU439
 1570 0074 D4ED097A 		vldr.32	s15, [r4, #36]
 128:moudels/motor/MImotor/MImotor.c ****             if((motor_setting->close_loop_type==ANGLE_LOOP&&motor_setting->ifsetflag==0)){
 1571              		.loc 1 128 51 discriminator 1 view .LVU440
 1572 0078 F5EE407A 		vcmp.f32	s15, #0
 1573 007c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1574 0080 D0D1     		bne	.L81
 129:moudels/motor/MImotor/MImotor.c ****                     // osDelay(20);
 1575              		.loc 1 129 13 is_stmt 1 view .LVU441
 129:moudels/motor/MImotor/MImotor.c ****                     // osDelay(20);
 1576              		.loc 1 129 30 is_stmt 0 view .LVU442
 1577 0082 637F     		ldrb	r3, [r4, #29]	@ zero_extendqisi2
 1578 0084 013B     		subs	r3, r3, #1
 1579 0086 042B     		cmp	r3, #4
 1580 0088 CCD8     		bhi	.L81
 1581 008a 01A2     		adr	r2, .L83
 1582 008c 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 1583              		.p2align 2
 1584              	.L83:
 1585 0090 C1000000 		.word	.L86+1
 1586 0094 B3000000 		.word	.L85+1
 1587 0098 25000000 		.word	.L81+1
 1588 009c A5000000 		.word	.L84+1
 1589 00a0 CF000000 		.word	.L82+1
 1590              		.p2align 1
 1591              	.L84:
 135:moudels/motor/MImotor/MImotor.c ****                     motor_setting->ifsetflag=1;
 1592              		.loc 1 135 21 is_stmt 1 view .LVU443
 1593 00a4 2046     		mov	r0, r4
 1594 00a6 FFF7FEFF 		bl	MI_motor_LocationControl
 1595              	.LVL130:
 136:moudels/motor/MImotor/MImotor.c ****             }else if(motor_setting->close_loop_type==SPEED_LOOP&&motor_setting->ifsetflag==0)
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 43


 1596              		.loc 1 136 21 view .LVU444
 136:moudels/motor/MImotor/MImotor.c ****             }else if(motor_setting->close_loop_type==SPEED_LOOP&&motor_setting->ifsetflag==0)
 1597              		.loc 1 136 45 is_stmt 0 view .LVU445
 1598 00aa 4FF07E53 		mov	r3, #1065353216
 1599 00ae 6362     		str	r3, [r4, #36]	@ float
 1600 00b0 B8E7     		b	.L81
 1601              	.L85:
 139:moudels/motor/MImotor/MImotor.c ****                     motor_setting->ifsetflag=1;
 1602              		.loc 1 139 21 is_stmt 1 view .LVU446
 1603 00b2 2046     		mov	r0, r4
 1604 00b4 FFF7FEFF 		bl	MI_motor_SpeedControl
 1605              	.LVL131:
 140:moudels/motor/MImotor/MImotor.c ****             }else if(motor_setting->close_loop_type==CURRENT_LOOP&&motor_setting->ifsetflag==0)
 1606              		.loc 1 140 21 view .LVU447
 140:moudels/motor/MImotor/MImotor.c ****             }else if(motor_setting->close_loop_type==CURRENT_LOOP&&motor_setting->ifsetflag==0)
 1607              		.loc 1 140 45 is_stmt 0 view .LVU448
 1608 00b8 4FF07E53 		mov	r3, #1065353216
 1609 00bc 6362     		str	r3, [r4, #36]	@ float
 1610 00be B1E7     		b	.L81
 1611              	.L86:
 143:moudels/motor/MImotor/MImotor.c ****                     motor_setting->ifsetflag=1;
 1612              		.loc 1 143 21 is_stmt 1 view .LVU449
 1613 00c0 2046     		mov	r0, r4
 1614 00c2 FFF7FEFF 		bl	MI_motor_TorqueControl
 1615              	.LVL132:
 144:moudels/motor/MImotor/MImotor.c ****             }else if(motor_setting->close_loop_type==YUNDONG_LOOP&&motor_setting->ifsetflag==0){
 1616              		.loc 1 144 21 view .LVU450
 144:moudels/motor/MImotor/MImotor.c ****             }else if(motor_setting->close_loop_type==YUNDONG_LOOP&&motor_setting->ifsetflag==0){
 1617              		.loc 1 144 45 is_stmt 0 view .LVU451
 1618 00c6 4FF07E53 		mov	r3, #1065353216
 1619 00ca 6362     		str	r3, [r4, #36]	@ float
 1620 00cc AAE7     		b	.L81
 1621              	.L82:
 1622              	.LBB12:
 146:moudels/motor/MImotor/MImotor.c ****                     motor_setting->ifsetflag=1;
 1623              		.loc 1 146 21 is_stmt 1 view .LVU452
 1624 00ce 2046     		mov	r0, r4
 1625 00d0 FFF7FEFF 		bl	MI_motor_YunkongControl
 1626              	.LVL133:
 147:moudels/motor/MImotor/MImotor.c ****             }
 1627              		.loc 1 147 21 view .LVU453
 147:moudels/motor/MImotor/MImotor.c ****             }
 1628              		.loc 1 147 45 is_stmt 0 view .LVU454
 1629 00d4 4FF07E53 		mov	r3, #1065353216
 1630 00d8 6362     		str	r3, [r4, #36]	@ float
 1631 00da A3E7     		b	.L81
 1632              	.L94:
 147:moudels/motor/MImotor/MImotor.c ****             }
 1633              		.loc 1 147 45 view .LVU455
 1634              	.LBE12:
 150:moudels/motor/MImotor/MImotor.c ****             if((motor_setting->close_loop_type==ANGLE_LOOP)){
 1635              		.loc 1 150 61 discriminator 1 view .LVU456
 1636 00dc 94ED097A 		vldr.32	s14, [r4, #36]
 150:moudels/motor/MImotor/MImotor.c ****             if((motor_setting->close_loop_type==ANGLE_LOOP)){
 1637              		.loc 1 150 46 discriminator 1 view .LVU457
 1638 00e0 F7EE007A 		vmov.f32	s15, #1.0e+0
 1639 00e4 B4EE677A 		vcmp.f32	s14, s15
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 44


 1640 00e8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1641 00ec 9ED1     		bne	.L87
 151:moudels/motor/MImotor/MImotor.c ****                     MI_motor_Modeset(motor,ref,0x7016);
 1642              		.loc 1 151 13 is_stmt 1 view .LVU458
 151:moudels/motor/MImotor/MImotor.c ****                     MI_motor_Modeset(motor,ref,0x7016);
 1643              		.loc 1 151 30 is_stmt 0 view .LVU459
 1644 00ee 637F     		ldrb	r3, [r4, #29]	@ zero_extendqisi2
 151:moudels/motor/MImotor/MImotor.c ****                     MI_motor_Modeset(motor,ref,0x7016);
 1645              		.loc 1 151 15 view .LVU460
 1646 00f0 042B     		cmp	r3, #4
 1647 00f2 0FD0     		beq	.L99
 154:moudels/motor/MImotor/MImotor.c ****                     MI_motor_Modeset(motor,ref,0x700A);
 1648              		.loc 1 154 19 is_stmt 1 view .LVU461
 154:moudels/motor/MImotor/MImotor.c ****                     MI_motor_Modeset(motor,ref,0x700A);
 1649              		.loc 1 154 21 is_stmt 0 view .LVU462
 1650 00f4 022B     		cmp	r3, #2
 1651 00f6 19D0     		beq	.L100
 157:moudels/motor/MImotor/MImotor.c ****                     MI_motor_Modeset(motor,ref,0x7006);
 1652              		.loc 1 157 19 is_stmt 1 view .LVU463
 157:moudels/motor/MImotor/MImotor.c ****                     MI_motor_Modeset(motor,ref,0x7006);
 1653              		.loc 1 157 21 is_stmt 0 view .LVU464
 1654 00f8 012B     		cmp	r3, #1
 1655 00fa 97D1     		bne	.L87
 1656              	.LBB13:
 158:moudels/motor/MImotor/MImotor.c ****                      osDelay(5);
 1657              		.loc 1 158 21 is_stmt 1 view .LVU465
 1658 00fc 47F20601 		movw	r1, #28678
 1659 0100 154B     		ldr	r3, .L101+8
 1660 0102 93ED000A 		vldr.32	s0, [r3]
 1661 0106 2046     		mov	r0, r4
 1662 0108 FFF7FEFF 		bl	MI_motor_Modeset
 1663              	.LVL134:
 159:moudels/motor/MImotor/MImotor.c ****             }else if(motor_setting->close_loop_type==YUNDONG_LOOP){
 1664              		.loc 1 159 22 view .LVU466
 1665 010c 0520     		movs	r0, #5
 1666 010e FFF7FEFF 		bl	osDelay
 1667              	.LVL135:
 1668              	.LBE13:
 1669 0112 8BE7     		b	.L87
 1670              	.L99:
 1671              	.LBB14:
 152:moudels/motor/MImotor/MImotor.c ****                      osDelay(1);
 1672              		.loc 1 152 21 view .LVU467
 1673 0114 47F21601 		movw	r1, #28694
 1674 0118 0F4B     		ldr	r3, .L101+8
 1675 011a 93ED000A 		vldr.32	s0, [r3]
 1676 011e 2046     		mov	r0, r4
 1677 0120 FFF7FEFF 		bl	MI_motor_Modeset
 1678              	.LVL136:
 153:moudels/motor/MImotor/MImotor.c ****             }else if(motor_setting->close_loop_type==SPEED_LOOP){
 1679              		.loc 1 153 22 view .LVU468
 1680 0124 0120     		movs	r0, #1
 1681 0126 FFF7FEFF 		bl	osDelay
 1682              	.LVL137:
 1683              	.LBE14:
 1684 012a 7FE7     		b	.L87
 1685              	.L100:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 45


 1686              	.LBB15:
 155:moudels/motor/MImotor/MImotor.c ****                      osDelay(5);
 1687              		.loc 1 155 21 view .LVU469
 1688 012c 47F20A01 		movw	r1, #28682
 1689 0130 094B     		ldr	r3, .L101+8
 1690 0132 93ED000A 		vldr.32	s0, [r3]
 1691 0136 2046     		mov	r0, r4
 1692 0138 FFF7FEFF 		bl	MI_motor_Modeset
 1693              	.LVL138:
 156:moudels/motor/MImotor/MImotor.c ****             }else if(motor_setting->close_loop_type==CURRENT_LOOP){
 1694              		.loc 1 156 22 view .LVU470
 1695 013c 0520     		movs	r0, #5
 1696 013e FFF7FEFF 		bl	osDelay
 1697              	.LVL139:
 1698              	.LBE15:
 1699 0142 73E7     		b	.L87
 1700              	.L95:
 1701              	.LBB16:
 165:moudels/motor/MImotor/MImotor.c ****                 motor_setting->ifsetflag==0;
 1702              		.loc 1 165 17 view .LVU471
 1703 0144 2046     		mov	r0, r4
 1704 0146 FFF7FEFF 		bl	MI_motor_setzero
 1705              	.LVL140:
 166:moudels/motor/MImotor/MImotor.c ****          }
 1706              		.loc 1 166 17 view .LVU472
 1707 014a 73E7     		b	.L90
 1708              	.LVL141:
 1709              	.L96:
 166:moudels/motor/MImotor/MImotor.c ****          }
 1710              		.loc 1 166 17 is_stmt 0 view .LVU473
 1711              	.LBE16:
 1712              	.LBE10:
 170:moudels/motor/MImotor/MImotor.c **** void MIMotorStop(MIMotorInstance *motor)
 1713              		.loc 1 170 1 view .LVU474
 1714 014c 38BD     		pop	{r3, r4, r5, pc}
 1715              	.LVL142:
 1716              	.L102:
 170:moudels/motor/MImotor/MImotor.c **** void MIMotorStop(MIMotorInstance *motor)
 1717              		.loc 1 170 1 view .LVU475
 1718 014e 00BF     		.align	2
 1719              	.L101:
 1720 0150 00000000 		.word	idx
 1721 0154 00000000 		.word	mi_motor_instance
 1722 0158 00000000 		.word	ref.5
 1723              		.cfi_endproc
 1724              	.LFE141:
 1726              		.section	.bss.EXT.0,"aw",%nobits
 1727              		.align	2
 1730              	EXT.0:
 1731 0000 00000000 		.space	4
 1732              		.section	.bss.EXT.1,"aw",%nobits
 1733              		.align	2
 1736              	EXT.1:
 1737 0000 00000000 		.space	4
 1738              		.section	.bss.EXT.2,"aw",%nobits
 1739              		.align	2
 1742              	EXT.2:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 46


 1743 0000 00000000 		.space	4
 1744              		.section	.bss.EXT.3,"aw",%nobits
 1745              		.align	2
 1748              	EXT.3:
 1749 0000 00000000 		.space	4
 1750              		.section	.bss.EXT.4,"aw",%nobits
 1751              		.align	2
 1754              	EXT.4:
 1755 0000 00000000 		.space	4
 1756              		.section	.bss.ref.5,"aw",%nobits
 1757              		.align	2
 1760              	ref.5:
 1761 0000 00000000 		.space	4
 1762              		.global	MI_MASTERID
 1763              		.section	.bss.MI_MASTERID,"aw",%nobits
 1766              	MI_MASTERID:
 1767 0000 00       		.space	1
 1768              		.section	.bss.mi_motor_instance,"aw",%nobits
 1769              		.align	2
 1772              	mi_motor_instance:
 1773 0000 00000000 		.space	48
 1773      00000000 
 1773      00000000 
 1773      00000000 
 1773      00000000 
 1774              		.section	.bss.idx,"aw",%nobits
 1777              	idx:
 1778 0000 00       		.space	1
 1779              		.text
 1780              	.Letext0:
 1781              		.file 2 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 1782              		.file 3 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 1783              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 1784              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 1785              		.file 6 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 1786              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 1787              		.file 8 "bsp/can/bsp_can.h"
 1788              		.file 9 "moudels/algorithm/controller.h"
 1789              		.file 10 "moudels/motor/motor_def.h"
 1790              		.file 11 "moudels/daemon/daemon.h"
 1791              		.file 12 "moudels/motor/MImotor/MImotor.h"
 1792              		.file 13 "Core/Inc/can.h"
 1793              		.file 14 "bsp/dwt/bsp_dwt.h"
 1794              		.file 15 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-to
 1795              		.file 16 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-to
 1796              		.file 17 "<built-in>"
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 47


DEFINED SYMBOLS
                            *ABS*:00000000 MImotor.c
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:21     .text.MIMotorLostCallback:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:26     .text.MIMotorLostCallback:00000000 MIMotorLostCallback
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:43     .text.MI_motor_SetMechPositionToZero:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:48     .text.MI_motor_SetMechPositionToZero:00000000 MI_motor_SetMechPositionToZero
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:134    .text.MI_motor_SetMechPositionToZero:0000005c $d
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1748   .bss.EXT.3:00000000 EXT.3
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1766   .bss.MI_MASTERID:00000000 MI_MASTERID
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:140    .text.MI_motor_ModeSwitch:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:145    .text.MI_motor_ModeSwitch:00000000 MI_motor_ModeSwitch
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:237    .text.MI_motor_ModeSwitch:00000070 $d
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1742   .bss.EXT.2:00000000 EXT.2
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:243    .text.MI_motor_Enable:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:248    .text.MI_motor_Enable:00000000 MI_motor_Enable
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:330    .text.MI_motor_Enable:00000054 $d
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1736   .bss.EXT.1:00000000 EXT.1
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:336    .text.MI_motor_Stop:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:341    .text.MI_motor_Stop:00000000 MI_motor_Stop
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:423    .text.MI_motor_Stop:00000054 $d
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1730   .bss.EXT.0:00000000 EXT.0
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:434    .text.MI_motor_RxDecode:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:440    .text.MI_motor_RxDecode:00000000 MI_motor_RxDecode
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:598    .text.MI_motor_RxDecode:000000d8 $d
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:608    .text.DecodeMIMotor:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:613    .text.DecodeMIMotor:00000000 DecodeMIMotor
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:754    .text.MIMotorStop:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:760    .text.MIMotorStop:00000000 MIMotorStop
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:778    .text.MIMotorEnable:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:784    .text.MIMotorEnable:00000000 MIMotorEnable
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:802    .text.MIMotorInit:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:808    .text.MIMotorInit:00000000 MIMotorInit
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:948    .text.MIMotorInit:000000d4 $d
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1777   .bss.idx:00000000 idx
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1772   .bss.mi_motor_instance:00000000 mi_motor_instance
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:956    .text.MIMotorOuterLoop:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:962    .text.MIMotorOuterLoop:00000000 MIMotorOuterLoop
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:979    .text.MIMotorSetRef:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:985    .text.MIMotorSetRef:00000000 MIMotorSetRef
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1002   .text.FloatToUint:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1008   .text.FloatToUint:00000000 FloatToUint
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1066   .text.RangeRestrict:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1072   .text.RangeRestrict:00000000 RangeRestrict
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1111   .text.MI_motor_Modeset:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1117   .text.MI_motor_Modeset:00000000 MI_motor_Modeset
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1213   .text.MI_motor_Modeset:00000068 $d
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1754   .bss.EXT.4:00000000 EXT.4
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1219   .text.MI_motor_setzero:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1225   .text.MI_motor_setzero:00000000 MI_motor_setzero
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1246   .text.MI_motor_YunkongControl:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1252   .text.MI_motor_YunkongControl:00000000 MI_motor_YunkongControl
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1290   .text.MI_motor_TorqueControl:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1296   .text.MI_motor_TorqueControl:00000000 MI_motor_TorqueControl
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1325   .text.MI_motor_stop:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1331   .text.MI_motor_stop:00000000 MI_motor_stop
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1352   .text.MI_motor_LocationControl:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1358   .text.MI_motor_LocationControl:00000000 MI_motor_LocationControl
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s 			page 48


C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1405   .text.MI_motor_SpeedControl:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1411   .text.MI_motor_SpeedControl:00000000 MI_motor_SpeedControl
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1446   .text.MIMotorControl:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1452   .text.MIMotorControl:00000000 MIMotorControl
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1585   .text.MIMotorControl:00000090 $d
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1590   .text.MIMotorControl:000000a4 $t
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1720   .text.MIMotorControl:00000150 $d
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1760   .bss.ref.5:00000000 ref.5
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1727   .bss.EXT.0:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1733   .bss.EXT.1:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1739   .bss.EXT.2:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1745   .bss.EXT.3:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1751   .bss.EXT.4:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1757   .bss.ref.5:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1767   .bss.MI_MASTERID:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1769   .bss.mi_motor_instance:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cc8OXBsw.s:1778   .bss.idx:00000000 $d

UNDEFINED SYMBOLS
CANTransmit
__aeabi_f2d
__aeabi_dsub
__aeabi_ddiv
__aeabi_dmul
__aeabi_d2f
DaemonReload
DWT_GetDeltaT
malloc
memset
PIDInit
CANRegister
DaemonRegister
osDelay
